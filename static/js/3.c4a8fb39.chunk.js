(this["webpackJsonpmy-app-01"]=this["webpackJsonpmy-app-01"]||[]).push([[3],{290:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(95);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],s=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(s=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);s=!0);}catch(n){r=!0,o=n}finally{try{s||null==i.return||i.return()}finally{if(r)throw o}}return a}}(e,t)||Object(s.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},291:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(3),r=(a(0),a(19)),o=a(11),c=a(1),i=function(e){return{isAuth:e.authReducer.isAuth}},n=function(e){return Object(r.b)(i)((function(t){return t.isAuth?Object(c.jsx)(e,Object(s.a)({},t)):Object(c.jsx)(o.a,{to:"/login"})}))}},294:function(e,t,a){e.exports={post:"post_post__15KVg",head:"post_head__LDpoy",right:"post_right__2rAAv",avatar:"post_avatar__3m-Wn",name:"post_name__2qvA2",link:"post_link__1Ai1y",message:"post_message__3u9rH",footer:"post_footer__3lim3",likes:"post_likes__axT9W",like:"post_like__3kSaN"}},295:function(e,t,a){e.exports={posts:"posts_posts__RT5fm"}},296:function(e,t,a){e.exports={profileInfo:"profileInfo_profileInfo__3fSaH",avatar:"profileInfo_avatar__1gR6k",profileInner:"profileInfo_profileInner__YMXLJ",profileFooter:"profileInfo_profileFooter__3zR4c",profileFooter__postwrite:"profileInfo_profileFooter__postwrite__295hf",profileDescr:"profileInfo_profileDescr__3XFhB",profileItem:"profileInfo_profileItem__1wfj_",aboutItem:"profileInfo_aboutItem__3yL9A",aboutDescr:"profileInfo_aboutDescr__3grvf",editButton:"profileInfo_editButton__10Yru",profileHeader__name:"profileInfo_profileHeader__name__3PaNT",profileHeader__status:"profileInfo_profileHeader__status__3aCJz"}},298:function(e,t,a){"use strict";a.r(t);var s=a(19),r=a(11),o=a(10),c=a(127),i=a(25),n=function(e){return e.profileReducer.posts},l=function(e){return e.profileReducer.newPostText},u=function(e){return e.profileReducer.profile},d=function(e){return e.profileReducer.status},j=function(e){return e.profileReducer.editMode},f=a(291),p=a(52),b=a(53),m=a(63),h=a(62),O=a(0),v=a.n(O),x=a(294),_=a.n(x),N=a(1),I=function(e){var t=e.message,a=e.likes,s=e.name,r=e.avatar,o=e.id;return Object(N.jsxs)("div",{id:o,className:_.a.post,children:[Object(N.jsxs)("div",{className:_.a.head,children:[Object(N.jsx)("div",{className:_.a.avatar,children:Object(N.jsx)("img",{src:null!=r?r:"https://html5css.ru/w3images/avatar2.png",alt:"myMiniAvatar"})}),Object(N.jsxs)("div",{className:_.a.right,children:[Object(N.jsx)("a",{className:_.a.name,href:"#",children:s}),Object(N.jsx)("a",{className:_.a.time,href:"#",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432 13:37"})]})]}),Object(N.jsx)("div",{className:_.a.message,children:t}),Object(N.jsx)("div",{className:_.a.footer,children:Object(N.jsxs)("div",{className:_.a.likes,children:[Object(N.jsx)("button",{className:_.a.like}),Object(N.jsx)("div",{children:a})]})})]})},g=a(295),y=a.n(g),k=v.a.memo((function(e){var t=e.posts,a=e.profile,s=a.fullName,r=a.photos,o=t.map((function(e){return Object(N.jsx)(I,{id:e.id,message:e.message,name:s,avatar:r.small,likes:e.likes},e.id)}));return Object(N.jsx)("div",{className:y.a.posts,children:o})})),S=a(7),D=a.n(S),w=a(12),P=a(290),T=a(128),M=a(129),A=a(296),F=a.n(A),E=function(e){var t=e.updateStatus,a=Object(O.useState)(!1),s=Object(P.a)(a,2),r=s[0],o=s[1],c=Object(O.useState)(e.status),i=Object(P.a)(c,2),n=i[0],l=i[1];Object(O.useEffect)((function(){l(e.status)}),[e.status]);var u=function(e){o(e)};return Object(N.jsx)("div",{className:"status",children:r?Object(N.jsx)("div",{children:Object(N.jsx)("input",{autoFocus:!0,onBlur:function(){u(!1),t(n)},value:n,onChange:function(e){l(e.currentTarget.value)}})}):Object(N.jsx)("div",{onClick:function(){return u(!0)},children:Object(N.jsx)("span",{children:n||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})})})},H=a(51),J=a(41),R=function(e){var t=e.contactTitle,a=e.contactValue,s=e.s;return Object(N.jsxs)("div",{className:s.profileItem,children:[Object(N.jsx)("div",{className:s.aboutItem,children:t}),Object(N.jsx)("div",{className:s.aboutDescr,children:null==a?"\u041f\u0443\u0441\u0442\u043e":a})]})},C=function(e){var t=e.contactTitle,a=e.placeholder,s=e.name,r=e.s;return Object(N.jsxs)("div",{className:r.profileItem,children:[Object(N.jsx)("div",{className:r.aboutItem,children:t}),Object(N.jsx)(T.a,{component:J.a,placeholder:a||"\u0421\u0441\u044b\u043b\u043a\u0430",name:s,validate:[H.b]})]})},B=function(e){var t=e.s,a=e.handleSubmit,s=e.profile;return Object(N.jsxs)("form",{onSubmit:a,className:t.profileFooter,children:[Object(N.jsx)("div",{className:t.profileDescr,children:Object(N.jsx)("div",{children:"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(N.jsxs)("div",{className:t.profileItem,children:[Object(N.jsx)("div",{className:t.aboutItem,children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:"}),Object(N.jsx)("div",{className:t.aboutDescr,children:Object(N.jsx)(T.a,{component:J.a,placeholder:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",name:"fullName",validate:[H.b]})})]}),Object(N.jsxs)("div",{className:t.profileItem,children:[Object(N.jsx)("div",{className:t.aboutItem,children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),Object(N.jsx)("div",{className:t.aboutDescr,children:Object(N.jsx)(T.a,{component:J.a,placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",name:"aboutMe",validate:[H.b]})})]}),Object(N.jsxs)("div",{className:t.profileItem,children:[Object(N.jsx)("div",{className:t.aboutItem,children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),Object(N.jsx)("div",{className:t.aboutDescr,children:Object(N.jsx)(T.a,{component:J.a,name:"lookingForAJob",type:"checkbox",validate:[H.b]})})]}),Object(N.jsxs)("div",{className:t.profileItem,children:[Object(N.jsx)("div",{className:t.aboutItem,children:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:"}),Object(N.jsx)("div",{className:t.aboutDescr,children:Object(N.jsx)(T.a,{component:J.a,placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443",name:"lookingForAJobDescription",validate:[H.b]})})]}),Object(N.jsx)("div",{className:t.profileDescr,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object.keys(s.contacts).map((function(e){return Object(N.jsx)(C,{contactTitle:e,placeholder:s.contacts[e],name:"contacts."+e,s:t},e)})),Object(N.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},V=B=Object(M.a)({form:"profileData"})(B),L=Object(H.a)(100),z=function(e){var t=e.handleSubmit;return Object(N.jsxs)("form",{onSubmit:t,className:F.a.profileFooter__postwrite,children:[Object(N.jsx)(T.a,{name:"postInput",component:J.b,type:"text",placeholder:"\u0427\u0435\u043c \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f?",validate:[H.b,L]}),Object(N.jsx)("button",{type:"sumbit",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})};z=Object(M.a)({form:"post-form"})(z);var W=function(e){var t=e.profile,a=e.isOwner,s=e.goToEditMode;return Object(N.jsxs)("div",{className:F.a.profileFooter,children:[Object(N.jsxs)("div",{className:F.a.profileDescr,children:[Object(N.jsx)("div",{children:"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),a?Object(N.jsx)("div",{className:F.a.editButton,onClick:s,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}):null]}),Object(N.jsxs)("div",{className:F.a.profileItem,children:[Object(N.jsx)("div",{className:F.a.aboutItem,children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: "}),Object(N.jsx)("div",{className:F.a.aboutDescr,children:t.fullName?t.fullName:"name"})]}),Object(N.jsxs)("div",{className:F.a.profileItem,children:[Object(N.jsx)("div",{className:F.a.aboutItem,children:"\u041e\u0431\u043e \u043c\u043d\u0435: "}),Object(N.jsx)("div",{className:F.a.aboutDescr,children:null==t.aboutMe?"\u041f\u0443\u0441\u0442\u043e - 1":t.aboutMe})]}),Object(N.jsxs)("div",{className:F.a.profileItem,children:[Object(N.jsx)("div",{className:F.a.aboutItem,children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),Object(N.jsx)("div",{className:F.a.aboutDescr,children:!1===t.lookingForAJob?"\u041d\u0435 \u0438\u0449\u0443":"\u0418\u0449\u0443"})]}),Object(N.jsxs)("div",{className:F.a.profileItem,children:[Object(N.jsx)("div",{className:F.a.aboutItem,children:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:"}),Object(N.jsx)("div",{className:F.a.aboutDescr,children:null==t.lookingForAJobDescription?"\u041f\u0443\u0441\u0442\u043e - 3":t.lookingForAJobDescription})]}),Object(N.jsx)("div",{className:F.a.profileDescr,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object.keys(t.contacts).map((function(e){return Object(N.jsx)(R,{contactTitle:e,contactValue:t.contacts[e],s:F.a},e)}))]})},X=function(e){var t=e.status,a=e.statusEditMode,s=e.toggleEditModeStatus,r=e.newStatusText,o=e.updateStatus,c=e.addPost,i=e.profile,n=e.isOwner,l=e.sendPhoto,u=e.updateProfileData,d=(e.userId,Object(O.useState)(!1)),j=Object(P.a)(d,2),f=j[0],p=j[1],b=function(){var e=Object(w.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:p(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:F.a.profileInfo,children:[Object(N.jsxs)("div",{className:F.a.avatar,children:[Object(N.jsx)("img",{src:i.photos.large?i.photos.large:"https://html5css.ru/w3images/avatar2.png",alt:"myAvatar"}),n&&Object(N.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&l(e.target.files[0])}})]}),Object(N.jsxs)("div",{className:F.a.profileInner,children:[Object(N.jsxs)("div",{className:"profileHeader",children:[Object(N.jsx)("div",{className:F.a.profileHeader__name,children:i.fullName}),Object(N.jsx)("div",{className:F.a.profileHeader__status,children:Object(N.jsx)(E,{status:t,editMode:a,toggleEditMode:s,newStatusText:r,updateStatus:o})}),f?Object(N.jsx)(V,{initialValues:i,s:F.a,onSubmit:b,profile:i}):Object(N.jsx)(W,{goToEditMode:function(){return p(!0)},isOwner:n,profile:i})]}),Object(N.jsx)(z,{onSubmit:function(e){c(e.postInput)}})]})]})},Y=a(125),q=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"refreshProfile",value:function(){var e=this.props,t=e.setProfile,a=e.setStatus,s=e.match.params.userId;s||(s=e.userId),t(s),a(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.addPost,a=e.changePostText,s=e.newPostText,r=e.profile,o=e.posts,c=e.match,i=e.sendPhoto,n=e.updateProfileData,l=e.status,u=e.editMode,d=e.toggleEditMode,j=e.newStatusText,f=e.updateStatus;return r?Object(N.jsxs)("div",{children:[Object(N.jsx)(X,{updateProfileData:n,sendPhoto:i,isOwner:!c.params.userId,addPost:t,changePostText:a,newPostText:s,profile:r,status:l,statusEditMode:u,toggleEditModeStatus:d,newStatusText:j,updateStatus:f}),Object(N.jsx)(k,{posts:o,profile:r})]}):Object(N.jsx)(Y.a,{})}}]),a}(O.Component);t.default=Object(o.d)(Object(s.b)((function(e){return{posts:n(e),newPostText:l(e),profile:u(e),status:d(e),editMode:j(e),isAuth:Object(i.b)(e),userId:Object(i.e)(e)}}),{addPost:c.a,changePostText:c.b,getProfile:c.c,toggleEditMode:c.i,newStatusText:c.d,setProfile:c.g,setStatus:c.h,updateStatus:c.k,sendPhoto:c.f,updateProfileData:c.j}),r.f,f.a)(q)}}]);
//# sourceMappingURL=3.c4a8fb39.chunk.js.map