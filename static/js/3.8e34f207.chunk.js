(this["webpackJsonpmy-app-01"]=this["webpackJsonpmy-app-01"]||[]).push([[3],{291:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var r=s(97);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],r=!0,a=!1,i=void 0;try{for(var n,o=e[Symbol.iterator]();!(r=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},292:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var r=s(3),a=(s(0),s(19)),i=s(11),n=s(1),o=function(e){return{isAuth:e.authReducer.isAuth}},c=function(e){return Object(a.b)(o)((function(t){return t.isAuth?Object(n.jsx)(e,Object(r.a)({},t)):Object(n.jsx)(i.a,{to:"/login"})}))}},295:function(e,t,s){e.exports={post:"post_post__15KVg",delete:"post_delete__4NoLz",head:"post_head__LDpoy",right:"post_right__2rAAv",avatar:"post_avatar__3m-Wn",name:"post_name__2qvA2",link:"post_link__1Ai1y",message:"post_message__3u9rH",postText:"post_postText__8dgsm",footer:"post_footer__3lim3",likes:"post_likes__axT9W",like:"post_like__3kSaN",like_active:"post_like_active__3XBun",number:"post_number__23Avk",number_active:"post_number_active__1I9Be",time:"post_time__3LcKI"}},296:function(e,t,s){e.exports={posts:"posts_posts__RT5fm",postsHeader:"posts_postsHeader__3FY3J",postsHeader__item:"posts_postsHeader__item__2YArM",postsWrapper:"posts_postsWrapper__bvuBf",notEnough:"posts_notEnough__15k0x",notEnoughWrap:"posts_notEnoughWrap__241cA",notEnoughText:"posts_notEnoughText__1O9PL",notEnoughPic:"posts_notEnoughPic__OAzg1"}},297:function(e,t,s){e.exports={profileInfo:"profileInfo_profileInfo__3fSaH",profileInner:"profileInfo_profileInner__YMXLJ",profileFooter:"profileInfo_profileFooter__3zR4c",profileFooter__postwrite:"profileInfo_profileFooter__postwrite__295hf",backButton:"profileInfo_backButton__2PAEr",profile__addPostAvatar:"profileInfo_profile__addPostAvatar__2TDyz",profile__addPostTextarea:"profileInfo_profile__addPostTextarea__3zD7B",profileDescr:"profileInfo_profileDescr__3XFhB",profileItem:"profileInfo_profileItem__1wfj_",aboutItem:"profileInfo_aboutItem__3yL9A",aboutDescr:"profileInfo_aboutDescr__3grvf",editButton:"profileInfo_editButton__10Yru",profileHeader:"profileInfo_profileHeader__18joT",profileHeader__name:"profileInfo_profileHeader__name__3PaNT",profileHeader__status:"profileInfo_profileHeader__status__3aCJz",avatar:"profileInfo_avatar__1gR6k",avatarWrap:"profileInfo_avatarWrap__2VpOr",avatarInput:"profileInfo_avatarInput__vWL74",avatarInner:"profileInfo_avatarInner__4Y3Ul",editInfoTitle:"profileInfo_editInfoTitle__29l_3",moreInfoBtn:"profileInfo_moreInfoBtn__Ts23Q",upStage:"profileInfo_upStage__2cQ8a",downStage:"profileInfo_downStage__CyT1k",downStage_active:"profileInfo_downStage_active__iXPK6",buttons:"profileInfo_buttons__3wYOl",pictureWrap:"profileInfo_pictureWrap__3zwLv",picturePreview__close:"profileInfo_picturePreview__close__1Q5uc"}},298:function(e,t,s){e.exports={status:"profileStatus_status__154YZ",editor:"profileStatus_editor__34PuO",statusSpan:"profileStatus_statusSpan__FS3wA"}},299:function(e,t,s){e.exports={uploadPhotoBtn:"uploadPhoto_uploadPhotoBtn__2NhI7"}},301:function(e,t,s){"use strict";s.r(t);var r=s(19),a=s(11),i=s(10),n=s(89),o=s(25),c=function(e){return e.profileReducer.posts},l=function(e){return e.profileReducer.newPostText},u=function(e){return e.profileReducer.profile},d=function(e){return e.profileReducer.status},p=function(e){return e.profileReducer.editMode},j=s(292),f=s(53),b=s(54),m=s(64),_=s(63),v=s(0),O=s.n(v),h=s(21),x=s(295),P=s.n(x),g=s(1),N=function(e){var t=e.message,s=e.likes,r=e.name,a=e.avatar,i=e.id,n=e.userId,o=e.deletePost,c=e.likePost,l=e.liked,u=e.disLikePost,d=e.picture;return Object(g.jsxs)("div",{id:i,className:P.a.post,children:[Object(g.jsxs)("div",{className:P.a.head,children:[Object(g.jsx)("div",{className:P.a.avatar,children:Object(g.jsx)("img",{src:null!=a?a:"https://html5css.ru/w3images/avatar2.png",alt:"myMiniAvatar"})}),Object(g.jsxs)("div",{className:P.a.right,children:[Object(g.jsx)(h.b,{className:P.a.name,to:"/profile/"+n,children:r}),Object(g.jsx)("div",{className:P.a.time,children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432 13:37"})]}),Object(g.jsx)("div",{className:P.a.delete,onClick:function(){return o(i)},children:"\u2716"})]}),Object(g.jsxs)("div",{className:P.a.message,children:[t?Object(g.jsx)("div",{className:P.a.postText,children:t}):"",Object(g.jsx)("img",{src:d,alt:d})]}),Object(g.jsx)("div",{className:P.a.footer,children:l?Object(g.jsxs)("div",{className:P.a.likes,children:[Object(g.jsx)("button",{className:P.a.like_active,onClick:function(){return u(i,s)}}),Object(g.jsx)("div",{className:P.a.number_active,children:s})]}):Object(g.jsxs)("div",{className:P.a.likes,children:[Object(g.jsx)("button",{className:P.a.like,onClick:function(){return c(i,s)}}),Object(g.jsx)("div",{className:P.a.number,children:s})]})})]})},I=s(296),w=s.n(I),k=O.a.memo((function(e){var t=e.posts,s=e.profile,r=e.deletePost,a=e.likePost,i=e.disLikePost,n=e.isOwner,o=s.fullName,c=s.photos,l=s.userId,u=t.map((function(e){return Object(g.jsx)(N,{id:e.id,message:e.message,name:o,avatar:c.small,likes:e.likes,userId:l,deletePost:r,likePost:a,liked:e.liked,disLikePost:i,picture:e.picture},e.id)})),d=u.length;return n?Object(g.jsxs)("div",{className:w.a.postsWrapper,children:[Object(g.jsx)("div",{className:w.a.postsHeader,children:Object(g.jsx)(A,{p:w.a,posts:t})}),Object(g.jsx)("div",{className:w.a.posts,children:d?u:Object(g.jsx)(S,{})})]}):Object(g.jsxs)("div",{className:w.a.postsWrapper,children:[Object(g.jsx)("div",{className:w.a.postsHeader,children:Object(g.jsx)(A,{p:w.a,posts:[]})}),Object(g.jsx)("div",{className:w.a.posts,children:Object(g.jsx)(S,{})})]})})),A=function(e){var t=e.p,s=e.posts.length,r=1===s?"\u0437\u0430\u043f\u0438\u0441\u044c":null,a=s>1&&s<5?"\u0437\u0430\u043f\u0438\u0441\u0438":"\u0437\u0430\u043f\u0438\u0441\u0435\u0439";return Object(g.jsxs)("div",{className:t.postsHeader__item,children:[s," ",r||a]})},S=function(){return Object(g.jsx)("div",{className:w.a.notEnough,children:Object(g.jsxs)("div",{className:w.a.notEnoughWrap,children:[Object(g.jsx)("div",{className:w.a.notEnoughPic,children:Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAABLCAMAAAAf8MQEAAAAe1BMVEXV3ujU3+kAAACqqqrU3+jR0ejV3ujU3un////Z4uv+/v79/f3V3+nz9vnm7PLh6O/2+Pry9fjv8vbc5e3o7fPW4Oni6e/e5u79/f78/P36+/zq7/TY4er3+Pr3+fvX4Or09vnt8fXz9vj9/v7b5OzW3+ni6O/i6fDW4OqeQWJJAAAACHRSTlO0twADvwv4rA1otFkAAAD1SURBVHhe7djHjoMwFIZR0mauG7Wkt+nv/4RjEguzIeDfUcTC34rNEVxL1wuiSALN5iatkRaWk3NdHvivBFq2/FsirSz/JNeqKfHAeclYyWFeSl0Jc9ZwpoE0dR49OfDxrzq6sDJyOE8++dnD7GF2bz79fQ88kUMlE1wZy5kSiuFcEZHCudBcPPPth4+Dx+xVSmmFn3ymQQbznJpykO/p3t6JF2lx0zGZKHbgiSCRaF3zlvN6NI8bxWO53pBtsx7JrwbkW+q2/RrD/zLqaceGOTtSb6fzEC929KCL9777XVY/XW4Cr8rIj8/vveE8cCDL37GfD/+jIrdEVJmtQgAAAABJRU5ErkJggg==",alt:"notEnoughPostPic"})}),Object(g.jsx)("div",{className:w.a.notEnoughText,children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0435 \u0435\u0434\u0438\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"})]})})},D=k,T=s(7),y=s.n(T),E=s(12),C=s(291),F=s(297),B=s.n(F),M=s(298),W=s.n(M),H=function(e){var t=e.updateStatus,s=Object(v.useState)(!1),r=Object(C.a)(s,2),a=r[0],i=r[1],n=Object(v.useState)(e.status),o=Object(C.a)(n,2),c=o[0],l=o[1];Object(v.useEffect)((function(){l(e.status)}),[e.status]);var u=function(e){i(e)},d=function(){u(!1),t(c)};return Object(g.jsx)("div",{className:W.a.status,children:a?Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:W.a.editor,children:[Object(g.jsx)("input",{autoFocus:!0,onBlur:d,value:c,onChange:function(e){l(e.currentTarget.value)}}),Object(g.jsx)("button",{onClick:function(){return d()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(g.jsx)("div",{onClick:function(){return u(!0)},children:Object(g.jsx)("span",{children:c||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})})]}):Object(g.jsx)("div",{onClick:function(){return u(!0)},className:W.a.statusSpan,children:Object(g.jsx)("span",{children:c||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})})})},L=s(131),R=s(130),z=s(42),J=s(52),V=function(e){var t=e.contactTitle,s=e.contactValue,r=e.s;return Object(g.jsxs)("div",{className:r.profileItem,children:[Object(g.jsxs)("div",{className:r.aboutItem,children:[t,":"]}),s?Object(g.jsx)("a",{className:r.aboutDescr,href:s,rel:"noreferrer",target:"_blank",children:s}):Object(g.jsx)("div",{className:r.aboutDescr,children:"\u041f\u0443\u0441\u0442\u043e"})]})},U=function(e){var t=e.contactTitle,s=e.placeholder,r=e.name,a=e.s;return Object(g.jsxs)("div",{className:a.profileItem,children:[Object(g.jsx)("div",{className:a.aboutItem,children:t}),Object(g.jsx)(R.a,{component:z.a,placeholder:s||"\u0421\u0441\u044b\u043b\u043a\u0430",name:r,validate:[J.b]})]})},q=function(e){var t=e.item,s=e.itemDescr,r=(e.plug,e.s);return Object(g.jsxs)("div",{className:r.profileItem,children:[Object(g.jsx)("div",{className:r.aboutItem,children:s}),Object(g.jsx)("div",{className:r.aboutDescr,children:t})]})},G=function(e){var t=e.item,s=e.itemDescr,r=e.search,a=e.dontSearch,i=e.s;return Object(g.jsxs)("div",{className:i.profileItem,children:[Object(g.jsx)("div",{className:i.aboutItem,children:s}),Object(g.jsx)("div",{className:i.aboutDescr,children:t?r:a})]})},Y=function(e){var t=e.itemDescr,s=e.name,r=e.placeholder,a=e.type,i=e.s;return Object(g.jsxs)("div",{className:i.profileItem,children:[Object(g.jsx)("div",{className:i.aboutItem,children:t}),Object(g.jsx)("div",{className:i.aboutDescr,children:Object(g.jsx)(R.a,{type:a?"checkbox":"input",component:z.a,placeholder:r,name:s,validate:[J.b]})})]})},Q=function(e){var t=e.s,s=e.handleSubmit,r=e.profile,a=e.turnOffEditMode,i=e.isOwner;return Object(g.jsxs)("form",{onSubmit:s,className:t.profileFooter,children:[Object(g.jsxs)("div",{className:t.profileDescr,children:[Object(g.jsx)("div",{className:t.editInfoTitle,children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),i?Object(g.jsx)("div",{className:t.backButton,onClick:a,children:"\u041d\u0430\u0437\u0430\u0434"}):null]}),Object(g.jsx)(Y,{itemDescr:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:",name:"fullName",placeholder:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",s:t}),Object(g.jsx)(Y,{itemDescr:"\u041e\u0431\u043e \u043c\u043d\u0435:",name:"aboutMe",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",s:t}),Object(g.jsx)("div",{className:t.profileDescr,children:Object(g.jsx)("div",{className:t.editInfoTitle,children:"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(g.jsx)(Y,{itemDescr:"\u0418\u0449\u0443 \u0420\u0430\u0431\u043e\u0442\u0443:",name:"lookingForAJob",placeholder:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443",type:"checkbox",s:t}),Object(g.jsx)(Y,{itemDescr:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:",name:"lookingForAJobDescription",placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443",s:t}),Object(g.jsx)("div",{className:t.profileDescr,children:Object(g.jsx)("div",{className:t.editInfoTitle,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object.keys(r.contacts).map((function(e){return Object(g.jsx)(U,{contactTitle:e,placeholder:r.contacts[e],name:"contacts."+e,s:t},e)})),Object(g.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},X=Q=Object(L.a)({form:"profileData"})(Q),K=function(e){var t=e.profile,s=e.isOwner,r=e.goToEditMode,a=e.s,i=Object(v.useState)(!1),n=Object(C.a)(i,2),o=n[0],c=n[1],l=function(e){c(e)},u=t.fullName,d=t.aboutMe,p=t.lookingForAJob,j=t.lookingForAJobDescription;return Object(g.jsxs)("div",{className:a.profileFooter,children:[Object(g.jsxs)("div",{className:a.upStage,children:[Object(g.jsxs)("div",{className:a.profileDescr,children:[Object(g.jsx)("div",{className:a.editInfoTitle,children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),s?Object(g.jsx)("div",{className:a.editButton,onClick:r,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}):null]}),Object(g.jsx)(q,{itemDescr:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:",item:u,plug:"\u0418\u043c\u044f",s:a}),Object(g.jsx)(q,{itemDescr:"\u041e\u0431\u043e \u043c\u043d\u0435:",item:d,plug:"\u0418\u043d\u0444\u044b \u043d\u0435\u0442 ;(",s:a})]}),o?Object(g.jsx)("div",{className:a.moreInfoBtn,onClick:function(){return l(!1)},children:"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"}):Object(g.jsx)("div",{className:a.moreInfoBtn,onClick:function(){return l(!0)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"}),Object(g.jsxs)("div",{className:o?a.downStage_active:a.downStage,children:[Object(g.jsx)("div",{className:a.profileDescr,children:Object(g.jsx)("div",{className:a.editInfoTitle,children:"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(g.jsx)(G,{itemDescr:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:",item:p,search:"\u0418\u0449\u0443",dontSearch:"\u041d\u0435 \u0438\u0449\u0443",s:a}),Object(g.jsx)(q,{itemDescr:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:",item:j,plug:"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",s:a}),Object(g.jsx)("div",{className:a.profileDescr,children:Object(g.jsx)("div",{className:a.editInfoTitle,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object.keys(t.contacts).map((function(e){return Object(g.jsx)(V,{contactTitle:e,contactValue:t.contacts[e],s:a},e)}))]})]})},Z=function(e){var t=e.isOwner,s=e.onGetNewFile,r=e.profile,a=e.s;return Object(g.jsxs)("div",{className:a.avatarInner,children:[Object(g.jsx)("div",{className:a.avatar,children:Object(g.jsx)("img",{src:r.photos.large?r.photos.large:"https://html5css.ru/w3images/avatar2.png",alt:"myAvatar"})}),t&&Object(g.jsx)($,{onGetNewFile:s,s:a})]})},$=function(e){var t=e.onGetNewFile,s=e.s;return Object(g.jsxs)("button",{className:s.avatarWrap,children:[Object(g.jsx)("input",{className:s.avatarInput,type:"file",onChange:t})," \u0412\u044b\u0431\u0430\u0442\u044c \u0444\u0430\u0439\u043b"]})};var ee=s(299),te=s.n(ee),se=function(e){var t=e.setPicturePreview;return Object(g.jsx)("div",{className:te.a.uploadPhotoBtn,children:Object(g.jsx)("input",{type:"file",onChange:function(e){if(e.target.files.length){var s=e.target.files[0],r=new FileReader;r.onload=function(e){var s=e.target;return console.log(s.result),t(s.result),s},r.readAsDataURL(s)}}})})},re=Object(J.a)(100),ae=function(e){var t=e.handleSubmit,s=e.avatar,r=e.isOwner,a=e.p,i=e.setPicturePreview,n=e.picturePreview,o=function(e){var t=Object(v.useState)(e),s=Object(C.a)(t,2),r=s[0],a=s[1],i=Object(v.useRef)(null),n=function(e){i.current&&!i.current.contains(e.target)&&a(!1)};return Object(v.useEffect)((function(){return document.addEventListener("click",n,!0),function(){document.removeEventListener("click",n,!0)}})),{ref:i,isComponentVisible:r,setIsComponentVisible:a}}(!1),c=o.ref,l=o.isComponentVisible,u=o.setIsComponentVisible,d=function(e){u(e)};return Object(g.jsxs)("form",{onSubmit:t,className:a.profileFooter__postwrite,children:[Object(g.jsx)("div",{className:a.profile__addPostAvatar,children:Object(g.jsx)("img",{src:null!=s?s:"https://html5css.ru/w3images/avatar2.png",alt:"myMiniAvatar"})}),r?Object(g.jsxs)("div",{className:a.profile__addPostTextarea,ref:c,children:[Object(g.jsx)(R.a,{name:"postInput",component:z.b,type:"text",placeholder:"\u0427\u0435\u043c \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f?",validate:[J.b,re],onClick:function(){return d(!0)}}),n?Object(g.jsx)(ne,{p:a,picturePreview:n,setPicturePreview:i}):"",l||n?Object(g.jsx)(ie,{p:a,setPicturePreview:i}):null]}):Object(g.jsxs)("div",{className:a.profile__addPostTextarea,ref:c,children:[Object(g.jsx)(R.a,{name:"postInput",component:z.b,type:"text",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0447\u0442\u043e \u043d\u0438\u0431\u0443\u0434\u044c...",validate:[J.b,re],onClick:function(){return d(!0)}}),l?Object(g.jsx)("button",{type:"sumbit",disabled:!0,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"}):null]})]})};ae=Object(L.a)({form:"post-form"})(ae);var ie=function(e){var t=e.p,s=e.setPicturePreview;return Object(g.jsxs)("div",{className:t.buttons,children:[Object(g.jsx)(se,{setPicturePreview:s}),Object(g.jsx)("button",{type:"sumbit",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})},ne=function(e){var t=e.p,s=e.picturePreview,r=e.setPicturePreview;return Object(g.jsxs)("div",{className:t.pictureWrap,children:[Object(g.jsx)("img",{src:s,alt:"uploadedPhoto"}),Object(g.jsx)("div",{className:t.picturePreview__close,onClick:function(){r(null)},children:"\u2716"})]})},oe=ae,ce=function(e){var t=e.status,s=e.statusEditMode,r=e.toggleEditModeStatus,a=e.newStatusText,i=e.updateStatus,n=e.addPost,o=e.profile,c=e.isOwner,l=e.sendPhoto,u=e.updateProfileData,d=e.setPicturePreview,p=e.picturePreview,j=Object(v.useState)(!1),f=Object(C.a)(j,2),b=f[0],m=f[1],_=function(){var e=Object(E.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:m(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:B.a.profileInfo,children:[Object(g.jsx)(Z,{isOwner:c,onGetNewFile:function(e){e.target.files.length&&l(e.target.files[0])},s:B.a,profile:o}),Object(g.jsxs)("div",{className:B.a.profileInner,children:[Object(g.jsxs)("div",{className:B.a.profileHeader,children:[Object(g.jsx)("div",{className:B.a.profileHeader__name,children:o.fullName}),Object(g.jsx)("div",{className:B.a.profileHeader__status,children:Object(g.jsx)(H,{status:t,editMode:s,toggleEditMode:r,newStatusText:a,updateStatus:i})}),b?Object(g.jsx)(X,{turnOffEditMode:function(){return m(!1)},initialValues:o,s:B.a,onSubmit:_,profile:o,isOwner:c}):Object(g.jsx)(K,{goToEditMode:function(){return m(!0)},isOwner:c,profile:o,s:B.a})]}),Object(g.jsx)(oe,{setPicturePreview:d,picturePreview:p,onSubmit:function(e,t){(e.postInput||p)&&n(e.postInput,t)},avatar:o.photos.small,isOwner:c,p:B.a})]})]})},le=s(127),ue=function(e){Object(m.a)(s,e);var t=Object(_.a)(s);function s(){return Object(f.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"refreshProfile",value:function(){var e=this.props,t=e.setProfile,s=e.setStatus,r=e.match.params.userId;r||(r=e.userId),t(r),s(r)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.addPost,s=e.changePostText,r=e.newPostText,i=e.profile,n=e.posts,o=e.match,c=e.sendPhoto,l=e.updateProfileData,u=e.userId,d=e.deletePost,p=e.likePost,j=e.disLikePost,f=e.setPicturePreview,b=e.picturePreview,m=e.status,_=e.editMode,v=e.toggleEditMode,O=e.newStatusText,h=e.updateStatus,x=!o.params.userId;return i?+o.params.userId===u?Object(g.jsx)(a.a,{to:"/profile/"}):Object(g.jsxs)("div",{children:[Object(g.jsx)(ce,{updateProfileData:l,sendPhoto:c,isOwner:x,addPost:t,changePostText:s,newPostText:r,profile:i,status:m,statusEditMode:_,toggleEditModeStatus:v,newStatusText:O,updateStatus:h,setPicturePreview:f,picturePreview:b}),Object(g.jsx)(D,{posts:n,profile:i,deletePost:d,likePost:p,disLikePost:j,isOwner:x})]}):Object(g.jsx)(le.a,{})}}]),s}(v.Component);t.default=Object(i.d)(Object(r.b)((function(e){return{posts:c(e),newPostText:l(e),profile:u(e),status:d(e),picturePreview:e.profileReducer.picturePreview,editMode:p(e),isAuth:Object(o.b)(e),userId:Object(o.e)(e)}}),{addPost:n.b,changePostText:n.c,getProfile:n.f,toggleEditMode:n.n,newStatusText:n.h,setProfile:n.l,setStatus:n.m,updateStatus:n.p,sendPhoto:n.j,updateProfileData:n.o,deletePost:n.d,likePost:n.g,disLikePost:n.e,setPicturePreview:n.k}),a.g,j.a)(ue)}}]);
//# sourceMappingURL=3.8e34f207.chunk.js.map