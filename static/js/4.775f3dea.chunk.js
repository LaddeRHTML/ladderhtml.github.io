(this["webpackJsonpmy-app-01"]=this["webpackJsonpmy-app-01"]||[]).push([[4],{296:function(e,t,n){e.exports={users:"userItem_users__10bSI",user:"userItem_user__21ntH",inner:"userItem_inner__22fIW",avatar:"userItem_avatar__2-LJJ",content:"userItem_content__2H43W",name:"userItem_name__337Gd",city:"userItem_city__LDGQx",first:"userItem_first__3z2Y2"}},302:function(e,t,n){e.exports={pagination:"paginator_pagination__CqhiY",item:"paginator_item__1i78J",active:"paginator_active__1JKrb",next:"paginator_next__3DkZs",prev:"paginator_prev__1DbI8"}},305:function(e,t,n){"use strict";n.r(t);var r=n(20),s=n(133),a=function(e){return e.usersReducer.users},o=function(e){return e.usersReducer.pageSize},i=function(e){return e.usersReducer.totalUserCount},c=function(e){return e.usersReducer.currentPage},u=function(e){return e.usersReducer.followingInProgress},l=function(e){return e.usersReducer.isLoading},g=n(56),d=n(57),f=n(67),p=n(66),j=n(0),m=n(14),h=n(296),b=n.n(h),_=n(1),v=function(e){var t=e.id,n=e.name,r=e.photos,s=e.status,a=e.followed,o=e.Follow,i=e.Unfollow,c=e.followingInProgress;return Object(_.jsxs)("div",{id:"user-".concat(t),className:b.a.user,children:[Object(_.jsx)("div",{className:b.a.avatar,children:Object(_.jsx)("img",{src:null!=r?r:"https://html5css.ru/w3images/avatar2.png",alt:"userAvatar"})}),Object(_.jsxs)("div",{className:b.a.content,children:[Object(_.jsx)("div",{className:b.a.first,children:Object(_.jsx)(m.b,{className:b.a.name,to:"/profile/"+t,children:n})}),Object(_.jsxs)("div",{children:[a?Object(_.jsx)("button",{disabled:c.some((function(e){return e===t})),onClick:function(){i(t)},children:"Unfollow"}):Object(_.jsx)("button",{disabled:c.some((function(e){return e===t})),onClick:function(){o(t)},children:"Follow"}),Object(_.jsxs)("div",{children:[" ",s]})]})]})]},t)},O=n(100),w=n(302),x=n.n(w),P=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,s=e.onPageChanged,a=e.portionSize,o=void 0===a?10:a,i=Math.ceil(t/n),c=[],u=1;u<=i;u++)c.push(u);var l=Math.ceil(i/o),g=Object(j.useState)(1),d=Object(O.a)(g,2),f=d[0],p=d[1],m=(f-1)*o+1,h=f*o;return Object(_.jsxs)("div",{className:x.a.pagination,children:[f>1&&Object(_.jsx)("div",{className:x.a.prev,onClick:function(){p(f-1)}}),c.filter((function(e){return e>=m&&e<=h})).map((function(e){return Object(_.jsx)("div",{id:e,className:r===e?x.a.active:x.a.item,onClick:function(){s(e)},children:e},e)})),l>f&&Object(_.jsx)("div",{className:x.a.next,onClick:function(){p(f+1)}})]})},I=function(e){var t=e.state,n=e.getPages,r=t.users,s=t.pageSize,a=t.totalUserCount,o=t.currentPage,i=t.followThunk,c=t.unFollowThunk,u=t.followingInProgress,l=r.map((function(e){return Object(_.jsx)(v,{id:e.id,name:e.name,uniqueUrlName:e.uniqueUrlName,photos:null!=e.photos.small?e.photos.small:e.photos.large,followed:e.followed,Follow:i,Unfollow:c,followingInProgress:u},e.id)}));return Object(_.jsxs)("div",{className:b.a.users,children:[Object(_.jsx)("div",{className:b.a.inner,children:l}),Object(_.jsx)(P,{pageSize:s,totalItemsCount:a,currentPage:o,onPageChanged:n})]})},N=n(70),k=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).getNewPage=function(t){var n=e.props;(0,n.getPages)(t,n.pageSize)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsers)(e.currentPage,e.pageSize)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=t?Object(_.jsx)(N.a,{}):null,r=t?null:Object(_.jsx)(I,{state:e,getPages:this.getNewPage});return Object(_.jsxs)("div",{children:[n,r]})}}]),n}(j.Component),C=Object(r.b)((function(e){return{users:a(e),pageSize:o(e),totalUserCount:i(e),currentPage:c(e),isLoading:l(e),followingInProgress:u(e)}}),{Follow:s.a,Unfollow:s.b,setUsers:s.h,updatePages:s.j,loadUsers:s.g,followProgress:s.c,getUsers:s.f,getPages:s.e,followThunk:s.d,unFollowThunk:s.i})(k);t.default=C}}]);
//# sourceMappingURL=4.775f3dea.chunk.js.map