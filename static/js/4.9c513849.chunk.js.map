{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Users/UserItem/userItem.module.scss","common/paginator/paginator.module.scss","redux/selector/userSelector.js","Components/Users/UserItem/UserItem.js","common/paginator/paginator.js","Components/Users/users.js","Components/Users/index.js","Components/Users/usersService.js","Components/Users/usersContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","userSelector","state","usersReducer","users","pageSizeSelector","pageSize","totalUserCountSelector","totalUserCount","currentPageSelector","currentPage","followingInProgressSelector","followingInProgress","isLoadingSelector","isLoading","UserItem","id","name","photos","status","followed","Follow","Unfollow","className","userStyle","user","avatar","src","alt","disabled","some","key","onClick","content","first","to","Pagination","totalItemsCount","onPageChanged","portionSize","pagesAmount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","style","pagination","prev","filter","p","map","active","item","Users","getPages","followThunk","unFollowThunk","allUsers","u","uniqueUrlName","small","large","inner","UsersService","getNewPage","page","props","this","getUsers","loading","Component","UsersContainer","connect","setUsers","updatePages","loadUsers","followProgress"],"mappings":"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","file":"static/js/4.9c513849.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"userItem_users__10bSI\",\"user\":\"userItem_user__21ntH\",\"avatar\":\"userItem_avatar__2-LJJ\",\"content\":\"userItem_content__2H43W\",\"name\":\"userItem_name__337Gd\",\"city\":\"userItem_city__LDGQx\",\"first\":\"userItem_first__3z2Y2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"paginator_pagination__CqhiY\",\"item\":\"paginator_item__1i78J\",\"active\":\"paginator_active__1JKrb\",\"next\":\"paginator_next__3DkZs\",\"prev\":\"paginator_prev__1DbI8\"};","export const userSelector = (state) => {\r\n    return state.usersReducer.users\r\n}\r\nexport const pageSizeSelector = (state) => {\r\n    return state.usersReducer.pageSize\r\n}\r\nexport const totalUserCountSelector = (state) => {\r\n    return state.usersReducer.totalUserCount\r\n}\r\nexport const currentPageSelector = (state) => {\r\n    return state.usersReducer.currentPage\r\n}\r\nexport const followingInProgressSelector = (state) => {\r\n    return state.usersReducer.followingInProgress\r\n}\r\nexport const isLoadingSelector = (state) => {\r\n    return state.usersReducer.isLoading\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userStyle from './userItem.module.scss';\r\n\r\nconst UserItem = ({id, name,  /* uniqueUrlName, */ photos, /* cereer, */ status, /* city, */ followed, Follow, Unfollow, followingInProgress}) => {\r\n    return (\r\n        <div id={`user-${id}`} key={id} className={userStyle.user}>\r\n            <div className={userStyle.avatar}>\r\n                <img src={photos != null ? photos : \"https://html5css.ru/w3images/avatar2.png\"} alt=\"userAvatar\" />\r\n                {!followed\r\n                    ? <button disabled={followingInProgress.some(key=> key === id)} onClick={() => { Follow(id) }}>Follow</button>\r\n                    : <button disabled={followingInProgress.some(key=> key === id)} onClick={() => { Unfollow(id) }}>Unfollow</button>}\r\n            </div>\r\n            <div className={userStyle.content}>\r\n                <div className={userStyle.first}>\r\n                    <NavLink className={userStyle.name} to={'/profile/' + id}>\r\n                        {name}\r\n                    </NavLink>\r\n                    {/* <div className={userStyle.city}>\r\n                        {city}\r\n                    </div> */}\r\n                </div>\r\n                <div>\r\n                    <div>\r\n                        {/* {cereer}, */} {status}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default UserItem;","import { useState } from \"react\";\r\nimport style from './paginator.module.scss';\r\nlet Pagination = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesAmount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesAmount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesAmount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    \r\n    return (\r\n        <div className={style.pagination}>\r\n            {\r\n                portionNumber > 1 &&\r\n                <div className={style.prev} onClick={()=>{ setPortionNumber(portionNumber - 1) }}></div>\r\n            }\r\n            {\r\n                pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map( ( p ) => {\r\n                    return (\r\n                        <div id={p} key={p} className={currentPage === p ? style.active : style.item} onClick={() => {onPageChanged(p)}}>\r\n                            {p}\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n            {\r\n                portionCount > portionNumber &&\r\n                <div className={style.next} onClick={()=>{ setPortionNumber(portionNumber + 1) }}></div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n    /* if (pagination) {\r\n        return pagination;\r\n    } */\r\n    \r\n    /* if (pagination) {\r\n        let lastPagiItem = pagination[pagination.length - 1];\r\n        let nextItems = pagination.slice(currentPage - 1, currentPage + 3);\r\n        let prevItem = pagination.slice(currentPage - 3, currentPage - 1);\r\n        let first = pagination[0];\r\n        let dots = [1,2,3];\r\n        let getDots = dots.map(d => {\r\n            return  <div\r\n                        className={style.dots}>\r\n                        {d = '.'}\r\n                    </div>\r\n        })\r\n        let fullPagi = [prevItem ,nextItems, getDots, lastPagiItem];\r\n        (currentPage === 3) ? prevItem = pagination.slice(currentPage - 2, currentPage - 1) : prevItem = pagination.slice(currentPage - 3, currentPage - 1);\r\n        (currentPage === 1) ? fullPagi =  [prevItem ,nextItems, getDots, lastPagiItem] : fullPagi =  [first, prevItem ,nextItems, getDots, lastPagiItem];\r\n        if (currentPage > 2) if (lastPagiItem.key) {\r\n            if (lastPagiItem.props.id === currentPage + 3) {\r\n                return fullPagi = [first, prevItem, nextItems];\r\n            } else if (lastPagiItem.props.id === currentPage + 2) {\r\n                return fullPagi = [first, prevItem, nextItems];\r\n            } else if (lastPagiItem.props.id === currentPage + 1) {\r\n                return fullPagi = [first, prevItem, nextItems];\r\n            }else if (lastPagiItem.props.id === currentPage) {\r\n                return fullPagi = [first, prevItem, nextItems];\r\n            } else {\r\n                return fullPagi = [first, prevItem ,nextItems, getDots, lastPagiItem];\r\n            }\r\n        }\r\n        return fullPagi;\r\n    } */\r\n}\r\nexport default Pagination;\r\n/* const getPagination = (pages, currentPage, getPages, style) => {\r\n    debugger\r\n    const paginationBrute = (page) => {\r\n        getPages(page)\r\n        setPagination();\r\n    }\r\n\r\n    let pagination = pages.map(p => {\r\n        return <div \r\n                    className={currentPage === p ? style.active : style.item} \r\n                    id={p} \r\n                    key={p} \r\n                    onClick={() => {paginationBrute(p)}}\r\n                    >\r\n                    {p}\r\n                </div>\r\n    });\r\n    return setPagination(pagination, currentPage, style)\r\n}\r\nexport default getPagination; */","import React from 'react';\r\nimport UserItem from './UserItem/UserItem';\r\nimport userStyle from './UserItem/userItem.module.scss';\r\nimport Pagination from '../../common/paginator/paginator';\r\n\r\nconst Users = ({state, getPages}) => {\r\n    const {users, pageSize, totalUserCount, currentPage} = state;\r\n    const {followThunk, unFollowThunk, followingInProgress} = state;\r\n    \r\n    let allUsers = users.map(u=> \r\n        <UserItem \r\n            key={u.id} \r\n            id={u.id} \r\n            name={u.name} \r\n            uniqueUrlName={u.uniqueUrlName} \r\n            photos={u.photos.small !=null ? u.photos.small : u.photos.large}\r\n            /* status={u.status}  */\r\n            followed={u.followed} \r\n            Follow={followThunk} \r\n            Unfollow={unFollowThunk} \r\n            followingInProgress={followingInProgress}\r\n        />)\r\n    return (\r\n        <div className={userStyle.users}>\r\n            <div className={userStyle.inner}>\r\n                {allUsers}\r\n            </div>\r\n            <Pagination pageSize={pageSize} totalItemsCount={totalUserCount} currentPage={currentPage} onPageChanged={getPages} />\r\n        </div>\r\n    )\r\n}\r\nexport default Users;","import UsersService from './usersService';\r\nexport default UsersService;","import React, { Component } from 'react';\r\nimport Users from './users';\r\nimport Loading from '../../common/loading/index';\r\n\r\nclass UsersService extends Component {\r\n    componentDidMount() {\r\n        const props = this.props;\r\n        const {getUsers} = props;\r\n        const {currentPage, pageSize} = props;\r\n        getUsers(currentPage, pageSize);\r\n    }\r\n    getNewPage = (page) => {\r\n        const props = this.props;\r\n        const {getPages} = props;\r\n        const {pageSize} = props;\r\n        getPages(page, pageSize);\r\n    }\r\n    render() {\r\n        const props = this.props;\r\n        const {isLoading} = props;\r\n        const loading = isLoading ? <Loading/> : null;\r\n        const content = !isLoading ? <Users state={props} getPages={this.getNewPage} /> : null;\r\n        return (\r\n            <div>\r\n                {loading}\r\n                {content}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default UsersService;","import {connect} from 'react-redux';\r\nimport {Follow, Unfollow, setUsers, updatePages, loadUsers, followProgress, getUsers, getPages, followThunk, unFollowThunk} from '../../redux/reducers/usersReducer/usersReducer';\r\nimport { currentPageSelector, followingInProgressSelector, pageSizeSelector, totalUserCountSelector, userSelector, isLoadingSelector } from '../../redux/selector/userSelector';\r\nimport UsersService from './index';\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: userSelector(state),\r\n        pageSize: pageSizeSelector(state),\r\n        totalUserCount: totalUserCountSelector(state),\r\n        currentPage: currentPageSelector(state),\r\n        isLoading: isLoadingSelector(state),\r\n        followingInProgress: followingInProgressSelector(state)\r\n    }\r\n}\r\nconst UsersContainer = connect(mapStateToProps, {\r\n    Follow,\r\n    Unfollow,\r\n    setUsers,\r\n    updatePages,\r\n    loadUsers,\r\n    followProgress,\r\n    getUsers, \r\n    getPages,\r\n    followThunk,\r\n    unFollowThunk\r\n})(UsersService);\r\nexport default UsersContainer;"],"sourceRoot":""}