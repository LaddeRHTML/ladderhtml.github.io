{"version":3,"sources":["common/loading/loading.js","redux/reducers/dialogsReducer/dialogsReducer.js","service/service.js","utils/objectHelpers/objectHelpers.js","redux/reducers/usersReducer/usersReducer.js","Components/loginPage/formValidate.module.scss","redux/selector/authSelector.js","Components/Settings/index.js","Components/Settings/settings.js","Components/Navbar/index.js","Components/Navbar/navbar.js","redux/reducers/authReducer/authReducer.js","Components/Header/header.js","Components/Header/headerService.js","Components/Header/headerContainer.js","common/capcha/captcha.js","Components/loginPage/loginPage.js","Components/loginPage/index.js","Components/loginPage/loginPageContainer.js","redux/reducers/appReducer/appReducer.js","redux/selector/appSelector.js","redux/reducers/loginReducer/loginReducer.js","redux/reduxStore.js","Components/hoc/reactSuspense.js","Components/404/404.js","App.js","index.js","Components/Navbar/navbar.module.scss","common/Textarea/formChilds.js","utils/validator.js","common/loading/index.js","Components/Header/header.module.scss","common/Textarea/formChilds.module.scss","redux/reducers/profileReducer/profileReducer.js","index.module.scss"],"names":["Loading","className","initialState","messages","message","id","dialogs","name","ADD_NEW_MESSAGE","dialogsReducer","state","action","type","addNewMessage","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unFollow","delete","profile","profileAPI","getMyProfile","userId","getStatus","updateStatus","status","put","takePhoto","file","formData","FormData","append","sendProfileData","auth","authAPI","getAuth","loginMe","email","password","rememberMe","captcha","logoutMe","securityApi","getCapchaUrl","userHelper","items","objProp","objPropName","map","u","FOLLOW","UNFOLLOW","SET_USERS","UPDATE_PAGES","LOAD_USERS","IS_FETCHING","FOLLOW_IN_PROGRESS","users","isLoading","totalUserCount","followingInProgress","usersReducer","followed","pageNumber","usersAmount","loading","filter","Follow","Unfollow","setUsers","updatePages","loadUsers","loader","followProgress","dispatch","a","totalCount","getPages","followUnfollowFlow","apiMethod","actionCreator","resultCode","followThunk","bind","unFollowThunk","module","exports","userIdSelector","authReducer","emailSelector","loginSelector","login","isLoadingSelector","isAuthSelector","isAuth","Settings","Navbar","sBarStyles","sidebar","activeClassName","active","to","AUTH_USER","CAPTCHA","captchaUrl","authUser","console","log","logout","getCaptcha","url","Header","headerStyles","header","img","src","alt","loginDiv","onClick","HeaderService","props","this","Component","HeaderContainer","connect","Captcha","Field","component","Input","placeholder","required","maxLength20","maxLengthCreator","LoginForm","handleSubmit","error","onSubmit","validate","requiredField","s","formAccesError","reduxForm","form","LoginPage","values","loginPageContainer","length","stopSubmit","_error","INITIALIZED_SUCCES","initialazed","initialazedSelector","appReducer","AUTH_ME","reducers","combineReducers","profileReducer","loginReducer","formReducer","plugin","ADD_POST","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","withSuspense","fallback","NotFound","MessagesContainer","React","lazy","ProfileContainer","UsersContainer","Feed","App","catchAllUnhandleErrors","promiseRejectionEvent","alert","reason","initializeApp","addEventListener","removeEventListener","styles","wrapper","wrapper__content","exact","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","basename","process","ReactDOM","document","getElementById","FormControl","meta","children","touched","fStyles","formControl_error","formControl","errorBlock","TextArea","input","restProps","value","maxLength","DELETE_POST","CHANGE_TEXT","GET_PROFILE","TOGGLE_EDIT_MODE","NEW_STATUS_TEXT","SET_PHOTO","posts","likes","newPost","text","newPostText","newText","profileId","editMode","photos","addPost","changePostText","getProfile","toggleEditMode","boolean","newStatusText","savePhotoSucces","setProfile","setStatus","sendPhoto","updateProfileData","getState"],"mappings":"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","file":"static/js/main.747c1ff8.chunk.js","sourcesContent":["import React from 'react';\r\nimport './loading.scss';\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"loading\">\r\n            <div className = \"loading-item\" >\r\n                <div className=\"loading-pac\">\r\n                    <div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                    </div>\r\n                    <div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Loading;","let initialState = {\r\n    messages: [\r\n        { message: 'Sovok', id: 1},\r\n        { message: 'Bil', id: 2 },\r\n        { message: 'Shit', id: 3 }\r\n    ],\r\n    dialogs: [\r\n        { id: 1, name: 'Alim' },\r\n        { id: 2, name: 'Danilka' },\r\n        { id: 3, name: 'Zhan' },\r\n        { id: 4, name: 'Ilya' }\r\n    ]\r\n}\r\n\r\nlet ADD_NEW_MESSAGE = 'social-network/dialogsReducer/ADD-NEW-MESSAGE';\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_NEW_MESSAGE: {\r\n            return {...state, messages: [...state.messages, {id: 7, message: action.message}]\r\n            }\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\nexport const addNewMessage = (message) => ({type: ADD_NEW_MESSAGE, message})","import * as axios from 'axios';\r\n\r\nconst baseUrl = 'https://social-network.samuraijs.com/api/1.0/';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: baseUrl,\r\n    headers: {\r\n        \"API-KEY\": \"40f73a95-bafe-4321-802d-b0ebad3cd1c8\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`).then(response=>response.data)\r\n    },\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response=>response.data)\r\n    }\r\n}\r\nconst profile = 'profile';\r\nexport const profileAPI = {\r\n    getMyProfile(userId) {\r\n        return instance.get(`${profile}/${userId}`).then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`${profile}/status/${userId}`).then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`${profile}/status`, {status}).then(response => response.data)\r\n    },\r\n    takePhoto(file) {\r\n        let formData = new FormData();\r\n        formData.append('image', file)\r\n        return instance.put(`${profile}/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response=>response.data)\r\n    },\r\n    sendProfileData(data) {\r\n        return instance.put(`${profile}`, data).then(response => response.data)\r\n    }\r\n}\r\nconst auth = 'auth';\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`${auth}/me`).then(response=>response.data)\r\n    },\r\n    loginMe(email, password, rememberMe = false, captcha) {\r\n        return instance.post(`${auth}/login`, {email, password, rememberMe, captcha}).then(response=>response.data)\r\n    },\r\n    logoutMe() {\r\n        return instance.delete(`${auth}/login`).then(response=>response.data)\r\n    },\r\n}\r\nconst security = 'security';\r\nexport const securityApi = {\r\n    getCapchaUrl() {\r\n        return instance.get(`${security}/get-captcha-url`)\r\n    }\r\n}\r\n","export const userHelper = (items, userId, objProp, objPropName) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === userId) {\r\n            return { ...u, ...objProp }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../../../service/service\";\r\nimport { userHelper } from \"../../../utils/objectHelpers/objectHelpers\";\r\n\r\nlet FOLLOW = 'social-network/usersReducer/FOLLOW';\r\nlet UNFOLLOW = 'social-network/usersReducer/UNFOLLOW';\r\nlet SET_USERS = 'social-network/usersReducer/SET-USERS';\r\nlet UPDATE_PAGES = 'social-network/usersReducer/UPDATE-PAGES';\r\nlet LOAD_USERS = 'social-network/usersReducer/LOAD-USERS';\r\nlet IS_FETCHING = 'social-network/usersReducer/IS-FETCHING';\r\nlet FOLLOW_IN_PROGRESS = 'social-network/usersReducer/FOLLOW-IN-PROGRESS'; \r\n\r\n\r\nlet initialState = {\r\n    users: [\r\n        /* {\r\n            id: 1,\r\n            name: 'Roman Pshenichnyy', \r\n            avatar: 'https://sun3-13.userapi.com/impg/ZtquHClbbXaBoSccQqAIAdS02sEgrlDo8684-w/F-SaUcm0Usw.jpg?size=777x854&quality=96&sign=7e3c831a5cceac7f991054e603e51cc0&type=album', \r\n            city: 'Almaty', \r\n            cereer: 'Web-Developer', \r\n            status: \"I'm Happy\", \r\n            followed: true\r\n        },\r\n        { \r\n            id: 2, \r\n            name: 'Alimkhan Rathanov', \r\n            avatar: 'https://sun9-7.userapi.com/impf/qcm-11a4_k4hHU7mLPWrlsJx6DqI7wGsWy-tYA/DHXZrzilWDA.jpg?size=960x1280&quality=96&sign=fdfd71663547b66fadd666406cb5e300&type=album', \r\n            city: 'Almaty', \r\n            cereer: 'Economics', \r\n            status: \"I'm Rofler\", \r\n            followed: true \r\n        },\r\n        {\r\n            \"name\": \"tire1315\",\r\n            \"id\": 16042,\r\n            \"uniqueUrlName\": null,\r\n            \"photos\": {\r\n              \"small\": null,\r\n              \"large\": null\r\n            },\r\n            \"status\": null,\r\n            \"followed\": false\r\n        } */\r\n    ],\r\n    isLoading: false,\r\n    pageSize: 4,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    followingInProgress: []\r\n};\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: userHelper(state.users, action.userId, {followed: true}, 'id')\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: userHelper(state.users, action.userId, {followed: false}, 'id')\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return { ...state, users: [...action.users], }\r\n        }\r\n        case UPDATE_PAGES: {\r\n            return { ...state, currentPage: action.pageNumber }\r\n        }\r\n        case LOAD_USERS: {\r\n            return { ...state, totalUserCount: action.usersAmount }\r\n        }\r\n        case IS_FETCHING: {\r\n            return { ...state, isLoading: action.loading }\r\n        }\r\n        case FOLLOW_IN_PROGRESS: {\r\n            return { \r\n                ...state, \r\n                followingInProgress: action.status \r\n                ? [...state.followingInProgress, action.userId] \r\n                : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport const Follow = (userId) => ({ type: FOLLOW, userId });\r\nexport const Unfollow = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const updatePages = (pageNumber) => ({ type: UPDATE_PAGES, pageNumber });\r\nexport const loadUsers = (usersAmount) => ({ type: LOAD_USERS, usersAmount });\r\nexport const loader = (loading) => ({ type: IS_FETCHING, loading });\r\nexport const followProgress = (status, userId) => ({ type: FOLLOW_IN_PROGRESS, status, userId });\r\n\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(loader(true));\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(response.items));\r\n    dispatch(loadUsers(response.totalCount = 499));\r\n    dispatch(loader(false));\r\n}\r\n\r\nexport const getPages = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(updatePages(currentPage));\r\n    let response = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setUsers(response.items));\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (apiMethod, actionCreator, id, dispatch) => {\r\n    dispatch(followProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(id));\r\n        dispatch(followProgress(false, id));\r\n    }\r\n}\r\nexport const followThunk = (id) => async (dispatch) => {\r\n    followUnfollowFlow(usersAPI.follow.bind(usersAPI), Follow, id, dispatch);\r\n}\r\nexport const unFollowThunk = (id) => async (dispatch) => {\r\n    followUnfollowFlow(usersAPI.unFollow.bind(usersAPI), Unfollow, id, dispatch);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formAccesError\":\"formValidate_formAccesError__2H2ZP\"};","export const userIdSelector = (state) => {\r\n    return state.authReducer.userId\r\n}\r\nexport const emailSelector = (state) => {\r\n    return state.authReducer.email\r\n}\r\nexport const loginSelector = (state) => {\r\n    return state.authReducer.login\r\n}\r\nexport const isLoadingSelector = (state) => {\r\n    return state.authReducer.isLoading\r\n}\r\nexport const isAuthSelector = (state) => {\r\n    return state.authReducer.isAuth\r\n}","import Settings from './settings';\r\nexport default Settings;","import React from 'react';\r\nconst Settings = () => {\r\n    return (\r\n        <>\r\n            <div>Settings</div>\r\n        </>\r\n    )\r\n}\r\nexport default Settings;","import Navbar from './navbar';\r\nexport default Navbar;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport sBarStyles from './navbar.module.scss';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <aside className={sBarStyles.sidebar}>\r\n            <ul>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/profile\">Моя страница</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/feed\">Новости</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/messages\">Сообщения</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/users\">Пользователи</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/settings\">Настройки</NavLink></li>\r\n            </ul>\r\n        </aside>\r\n    )\r\n}\r\nexport default Navbar;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityApi } from \"../../../service/service\";\r\n\r\nlet AUTH_USER = 'social-network/authReducer/AUTH-USER';\r\nlet CAPTCHA = 'social-network/authReducer/CAPTHCA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isLoading: false,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case AUTH_USER : {\r\n            const {userId, email, login, isAuth} = action\r\n            return {...state, userId: userId, email: email, login: login, isAuth: isAuth }\r\n        }\r\n        case CAPTCHA : {\r\n            return {...state, captchaUrl: action.captcha }\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const authUser = (userId, email, login, isAuth) => ({type: AUTH_USER, userId, email, login, isAuth});\r\nexport const setCaptcha = (captcha) => ({type: CAPTCHA, captcha});\r\n\r\n\r\nexport const auth = () => async (dispatch) => {\r\n    let response = await authAPI.getAuth()\r\n    if (response.resultCode === 0) {\r\n        const {id, email, login} = response.data;\r\n        console.log(id, email, login)\r\n        dispatch(authUser(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.loginMe(email, password, rememberMe, captcha)\r\n    console.log(response)\r\n    if(response.resultCode === 0) {\r\n        dispatch(auth());\r\n    } else {\r\n        if (response.resultCode === 10) {\r\n            dispatch(getCaptcha())\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : 'Login Error, pls check ur data';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response =  await authAPI.logoutMe()\r\n    if(response.resultCode === 0) {\r\n        dispatch(authUser(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => async (dispatch) => {\r\n    let response = await securityApi.getCapchaUrl();\r\n    console.log(response)\r\n    let captchaUrl = response.data.url; \r\n    dispatch(setCaptcha(captchaUrl))\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport headerStyles from './header.module.scss'\r\nconst Header = ({state}) => {\r\n    const {isAuth, login, logout} = state;\r\n    return (\r\n        <header className={headerStyles.header}>\r\n            <div className={headerStyles.img}>\r\n                <img src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20fill%3D%22none%22%20height%3D%2224%22%20width%3D%22136%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0%2011.5c0-5.42%200-8.13%201.68-9.82C3.37%200%206.08%200%2011.5%200h1c5.42%200%208.13%200%209.82%201.68C24%203.37%2024%206.08%2024%2011.5v1c0%205.42%200%208.13-1.68%209.82C20.63%2024%2017.92%2024%2012.5%2024h-1c-5.42%200-8.13%200-9.82-1.68C0%2020.63%200%2017.92%200%2012.5z%22%20fill%3D%22%232787f5%22%2F%3E%3Cg%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M6.5%207.5H4.75c-.5%200-.6.24-.6.5%200%20.46.6%202.76%202.76%205.8%201.45%202.07%203.49%203.2%205.34%203.2%201.11%200%201.25-.25%201.25-.68v-1.57c0-.5.1-.6.46-.6.26%200%20.7.13%201.74%201.13%201.19%201.19%201.38%201.72%202.05%201.72h1.75c.5%200%20.75-.25.6-.74-.15-.5-.72-1.2-1.47-2.05-.4-.49-1.02-1-1.2-1.26-.26-.34-.2-.49%200-.78%200%200%202.13-3%202.35-4.03.11-.37%200-.64-.53-.64H17.5a.76.76%200%2000-.76.5s-.9%202.16-2.15%203.57c-.41.41-.6.54-.82.54-.1%200-.27-.13-.27-.5V8.14c0-.44-.13-.64-.5-.64h-2.75c-.28%200-.45.2-.45.4%200%20.42.64.52.7%201.7v2.58c0%20.57-.1.67-.32.67-.6%200-2.04-2.18-2.9-4.67-.16-.48-.33-.68-.78-.68z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M66.86%2012.5c0%203.24-2.43%205.5-5.78%205.5s-5.78-2.26-5.78-5.5S57.73%207%2061.08%207s5.78%202.26%205.78%205.5zm-8.97%200c0%201.97%201.3%203.3%203.19%203.3s3.19-1.33%203.19-3.3c0-1.98-1.3-3.25-3.19-3.25s-3.19%201.28-3.19%203.25zm-17.14-.21c.95-.44%201.56-1.18%201.56-2.33%200-1.73-1.58-2.96-3.87-2.96h-5.27v11h5.5c2.37%200%204.02-1.29%204.02-3.05%200-1.33-.87-2.32-1.94-2.66zM35.6%209.01h2.83c.85%200%201.44.5%201.44%201.2s-.6%201.2-1.44%201.2h-2.83zM38.67%2016h-3.06V13.3h3.06c.96%200%201.59.55%201.59%201.36s-.63%201.33-1.59%201.33zM51.84%2018h3.19l-5.06-5.71L54.61%207h-2.9l-3.68%204.27h-.6V7H45v11h2.44v-4.38h.59zM76.47%207v4.34h-4.93V7H69.1v11h2.43v-4.44h4.93V18h2.43V7zM86.9%2018h-2.44V9.22h-3.8V7H90.7v2.22h-3.8zm9.5-11c-2.11%200-3.91.89-4.52%202.8l2.24.37c.34-.67%201.05-1.2%202.15-1.2%201.33%200%202.06.84%202.17%202.28h-2.32c-3.23%200-4.79%201.42-4.79%203.45%200%202.05%201.59%203.3%203.78%203.3%201.8%200%203-.72%203.53-1.63l.5%201.63h1.76v-6.18c0-3.19-1.74-4.82-4.5-4.82zm-.72%209c-1.19%200-1.9-.5-1.9-1.4%200-.85.57-1.44%202.43-1.44h2.35c0%201.8-1.19%202.84-2.88%202.84zm17.99%202h-3.2l-3.8-4.38h-.6V18h-2.43V7h2.43v4.27h.6L110.34%207h2.9l-4.63%205.29zm3.88%200h2.43V9.22h3.8V7h-10.04v2.22h3.8zM130.1%207c3.34%200%205.56%202.4%205.56%205.37%200%20.3-.02.55-.04.79h-8.54c.23%201.69%201.36%202.69%203.17%202.69%201.29%200%202.15-.4%202.68-1.2l2.29.39c-.88%202.01-2.83%202.96-5.12%202.96a5.28%205.28%200%2001-5.51-5.5c0-3.12%202.17-5.5%205.51-5.5zm2.92%204.25c-.4-1.37-1.4-2.15-2.92-2.15-1.48%200-2.47.74-2.87%202.15z%22%20fill%3D%22%2319191a%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\" alt=\"logo\"/>\r\n            </div>\r\n            <div className={headerStyles.loginDiv}>\r\n                { isAuth ? \r\n                <div>\r\n                    <div>{login}</div>\r\n                    <div onClick={logout}>logout</div>\r\n                </div> : \r\n                <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import { Component } from 'react';\r\nimport Header from './header';\r\n\r\nexport default class HeaderService extends Component {\r\n    render() {\r\n        const props = this.props;\r\n        return (\r\n            <Header state={props} />\r\n        )\r\n    }\r\n}","import {connect} from 'react-redux';\r\nimport {authUser, logout} from '../../redux/reducers/authReducer/authReducer';\r\nimport { isLoadingSelector, loginSelector, userIdSelector, isAuthSelector, emailSelector } from '../../redux/selector/authSelector';\r\nimport HeaderService from './headerService';\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userId: userIdSelector(state),\r\n        email: emailSelector(state),\r\n        login: loginSelector(state),\r\n        isLoading: isLoadingSelector(state),\r\n        isAuth: isAuthSelector(state)\r\n    }\r\n} \r\nconst HeaderContainer = connect(mapStateToProps, {authUser, logout})(HeaderService);\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport { Input } from '../Textarea/formChilds';\r\nexport const Captcha = ({captcha}) => {\r\n    return (\r\n        <div>\r\n            <img src={captcha} alt='captcha' />\r\n            <Field component={Input} placeholder=\"Введите символы с картинки\" name=\"captcha\" required />\r\n        </div>\r\n    )\r\n} ","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Captcha } from '../../common/capcha/captcha';\r\nimport { Input } from '../../common/Textarea/formChilds';\r\nimport {maxLengthCreator, requiredField} from '../../utils/validator';\r\nimport s from './formValidate.module.scss';\r\n\r\nlet maxLength20 = maxLengthCreator(20)\r\nlet LoginForm = ({handleSubmit, error, captcha}) => {\r\n    return (\r\n        <form className=\"form\" onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field component={Input} type=\"email\" validate={[requiredField, maxLength20]} name=\"email\" placeholder=\"Почта\"/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} validate={[requiredField, maxLength20]} name=\"password\" placeholder=\"Пароль\" type=\"password\" />\r\n            </div>\r\n            <div>\r\n                <Field component=\"input\" name=\"rememberMe\" type='checkbox'/>\r\n            </div>\r\n            {captcha ? <Captcha captcha={captcha} /> : null}\r\n            {\r\n                error ? \r\n                    <div className={s.formAccesError}>\r\n                        {error}\r\n                    </div>: \r\n                null\r\n            }\r\n            <div>\r\n                <button type=\"submit\">Войти</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nLoginForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\nconst LoginPage = ({login, isAuth, captchaUrl}) => {\r\n    const submit = (values) => {\r\n        const {email, password, rememberMe, captcha} = values;\r\n        console.log(values)\r\n        login(email, password, rememberMe, captcha);\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <LoginForm onSubmit={submit} captcha={captchaUrl} />\r\n        </div>\r\n    )\r\n}\r\nexport default LoginPage;","import loginPageContainer from './loginPageContainer';\r\nexport default loginPageContainer;","import { connect } from \"react-redux\"\r\nimport { login, logout } from \"../../redux/reducers/authReducer/authReducer\";\r\nimport { isAuthSelector, isLoadingSelector } from \"../../redux/selector/authSelector\";\r\nimport LoginPage from \"./loginPage\"\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        /* userId: state.authReducer.userId,\r\n        email: state.authReducer.email,\r\n        login: state.authReducer.login, */\r\n        isLoading: isLoadingSelector(state),\r\n        isAuth: isAuthSelector(state),\r\n        captchaUrl: state.authReducer.captchaUrl\r\n    }\r\n} \r\nexport default connect(mapStateToProps, {login, logout})(LoginPage);\r\n","import { auth } from \"../authReducer/authReducer\";\r\n\r\nlet INITIALIZED_SUCCES = 'social-network/appReducer/INITIALIZED-SUCCES';\r\n\r\nlet initialState = {\r\n    initialazed: false\r\n}\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCES : {\r\n            return {...state, initialazed:  true}\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const setInitializedSecces = () => ({type: INITIALIZED_SUCCES});\r\n\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    let promise = await dispatch(auth())\r\n    Promise.all([promise])\r\n    dispatch(setInitializedSecces())\r\n}\r\n\r\n","export const initialazedSelector = (state) => {\r\n    return state.appReducer.initialazed\r\n}","/* import { authAPI } from \"../service/service\"; */\r\n\r\nlet AUTH_ME = 'social-network/loginReducer/LOGIN-ME';\r\n\r\nlet initialState = {\r\n    email: '',\r\n    password: '',\r\n    rememberMe: false,\r\n    captcha: false\r\n}\r\n\r\nexport let loginReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case AUTH_ME: {\r\n            return {...state, email: action.email, password: action.password, rememberMe: action.rememberMe, captcha: action.captcha}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport const loginMe = ({email, password, rememberMe, captcha}) => ({type: AUTH_ME, email, password, rememberMe, captcha});\r\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport { dialogsReducer } from \"./reducers/dialogsReducer/dialogsReducer\";\r\nimport { ADD_POST, profileReducer } from \"./reducers/profileReducer/profileReducer\";\r\nimport { loginReducer } from \"./reducers/loginReducer/loginReducer\";\r\nimport { usersReducer } from \"./reducers/usersReducer/usersReducer\";\r\nimport { appReducer } from \"./reducers/appReducer/appReducer\";\r\nimport { authReducer } from \"./reducers/authReducer/authReducer\";\r\nimport thunk from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    authReducer,\r\n    profileReducer,\r\n    dialogsReducer,\r\n    usersReducer,\r\n    loginReducer,\r\n    appReducer,\r\n    form: formReducer.plugin({\r\n        'post-form': (state, action) => {\r\n            switch(action.type) {\r\n                case ADD_POST: {\r\n                    return undefined;\r\n                }\r\n                default : {\r\n                    return state;\r\n                }\r\n            }\r\n        }\r\n    })\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Loading from '../../common/loading';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Loading/>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import React from 'react';\r\nconst NotFound = () => {\r\n    return (\r\n        <div>\r\n            404\r\n        </div>\r\n    )\r\n}\r\nexport default NotFound;","import React, { Component } from 'react';\nimport Settings from './Components/Settings';\n// import MessagesContainer from './Components/Messages';\n// import ProfileContainer from './Components/Content';\n// import Feed from './Components/Feed';\nimport Navbar from './Components/Navbar';\nimport styles from './index.module.scss';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\n// import UsersContainer from './Components/Users/usersContainer';\nimport HeaderContainer from './Components/Header/headerContainer';\nimport LoginPage from './Components/loginPage';\nimport { connect } from 'react-redux';\nimport {initializeApp} from './redux/reducers/appReducer/appReducer';\nimport { compose } from 'redux';\nimport Loading from './common/loading';\nimport { initialazedSelector } from './redux/selector/appSelector';\nimport { HashRouter } from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport store from './redux/reduxStore';\nimport { withSuspense } from './Components/hoc/reactSuspense';\nimport NotFound from './Components/404/404';\nconst MessagesContainer = React.lazy(() => import('./Components/Messages/messagesContainer'));\nconst ProfileContainer = React.lazy(() => import('./Components/Content/profileContainer'));\nconst UsersContainer = React.lazy(() => import('./Components/Users/usersContainer'));\nconst Feed = React.lazy(() => import('./Components/Feed'));\n\nclass App extends Component {\n\tcatchAllUnhandleErrors = (promiseRejectionEvent) => {\n\t\talert('Some error occured', promiseRejectionEvent.reason.response);\n\t\tconsole.log(promiseRejectionEvent.reason.response);\n\t}\n\tcomponentDidMount() {\n        this.props.initializeApp();\n\t\twindow.addEventListener('unhandledrejection', this.catchAllUnhandleErrors)\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('unhandledrejection', this.catchAllUnhandleErrors)\n\t}\n\trender() {\n\t\tif (!this.props.initialazed) {\n\t\t\treturn <Loading/>\n\t\t}\n\t\treturn (\n\t\t\t<div className={styles.wrapper}>\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar />\n\t\t\t\t<main className={styles.wrapper__content}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\" render={() => <Redirect to={'profile'} />} />\n\t\t\t\t\t\t<Route path=\"/login\" render={() => <LoginPage />} />\n\t\t\t\t\t\t<Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n\t\t\t\t\t\t<Route path=\"/feed\" render={withSuspense(Feed)}/>\n\t\t\t\t\t\t<Route path=\"/messages\" render={withSuspense(MessagesContainer)}/>\n\t\t\t\t\t\t<Route path=\"/users\" render={withSuspense(UsersContainer)}/>\n\t\t\t\t\t\t<Route path=\"/settings\" render={() => <Settings />} />\n\t\t\t\t\t\t<Route path=\"*\" render={() => <NotFound />} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t)\n\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {initialazed: initialazedSelector(state)}\n}\nlet AppContainer = compose(\n\twithRouter,\n\tconnect(mapStateToProps, {initializeApp})\n)(App);\n\nconst MainApp = () => {\n\treturn (\n\t\t<HashRouter basename={process.env.PUBLIC_URL}>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppContainer />\n\t\t\t</Provider>\n\t\t</HashRouter>\n\t)\n}\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport MainApp from './App';\n\n\nReactDOM.render(\n    <MainApp/>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"navbar_sidebar__1OZrZ\",\"active\":\"navbar_active__M_aUX\"};","import React from 'react';\r\nimport fStyles from './formChilds.module.scss';\r\n\r\nexport let FormControl = ({meta, children}, props) => {\r\n    const {error, touched} = meta;\r\n    return (\r\n        <div className={touched && error ? fStyles.formControl_error : fStyles.formControl}>\r\n            {children}\r\n            <div className={fStyles.errorBlock}>{error}</div>\r\n        </div>\r\n    )\r\n}\r\nexport let TextArea = (props) => {\r\n    const {input, meta, children,  ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} placeholder={props.placeholder} />\r\n        </FormControl>\r\n    )\r\n}\r\nexport let Input = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} placeholder={props.placeholder} />\r\n        </FormControl>\r\n    )\r\n}","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return '';\r\n}\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} Symb!`\r\n    return undefined;\r\n}","import Loading from './loading';\r\nexport default Loading;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1STTg\",\"img\":\"header_img__1l1r8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBlock\":\"formChilds_errorBlock__2NREu\",\"formControl_error\":\"formChilds_formControl_error__3WcPD\"};","import { profileAPI } from \"../../../service/service\";\r\n\r\nexport let ADD_POST = 'social-network/profileReducer/ADD-POST';\r\nlet DELETE_POST = 'social-network/profileReducer/DELETE-POST';\r\nlet CHANGE_TEXT = 'social-network/profileReducer/CHANGE-POST-TEXT';\r\nlet GET_PROFILE = 'social-network/profileReducer/GET-PROFILE';\r\nlet TOGGLE_EDIT_MODE = 'social-network/profileReducer/TOGGLE-EDIT-MODE';\r\nlet NEW_STATUS_TEXT = 'social-network/profileReducer/NEW-STATUS-TEXT';\r\nlet SET_PHOTO = 'social-network/profileReducer/SET_PHOTO';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 4, message: 'new post', likes: \"13\" },\r\n        { id: 3, message: 'TEST POSTS', likes: \"12\" },\r\n        { id: 2, message: 'TEST POSTS', likes: \"15\" },\r\n        { id: 1, message: 'TEST POSTS', likes: \"16\" },\r\n    ],\r\n    profile: null,\r\n    status: null,\r\n    /* editMode: false */\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.text,\r\n                likes: 0\r\n            };\r\n            return {...state, posts:[newPost, ...state.posts]}\r\n        }\r\n        case DELETE_POST: {\r\n            /* let newPost = {\r\n                id: 5,\r\n                message: action.text,\r\n                likes: 0\r\n            };\r\n            return {...state, posts:[newPost, ...state.posts]} */\r\n            break\r\n        }\r\n        case CHANGE_TEXT: {\r\n            return {...state,newPostText: action.newText}\r\n        }\r\n        case GET_PROFILE: {\r\n            return {...state, profile: action.profileId}\r\n        }\r\n        case TOGGLE_EDIT_MODE: {\r\n            return {...state, editMode: action.editMode}\r\n        }\r\n        case NEW_STATUS_TEXT: {\r\n            return {...state, status: action.text}\r\n        }\r\n        case SET_PHOTO: {\r\n            debugger\r\n            return {...state, profile: {...state.profile, photos: action.file}}\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPost = (text) => ({ type: ADD_POST, text });\r\nexport const deletePost = () => ({ type: DELETE_POST });\r\nexport const changePostText = (text) => ({ type: CHANGE_TEXT, newText: text });\r\nexport const getProfile = (profileId) => ({type: GET_PROFILE, profileId});\r\nexport const toggleEditMode = (boolean) => ({type: TOGGLE_EDIT_MODE, editMode: boolean});\r\nexport const newStatusText = (text) => ({type: NEW_STATUS_TEXT, text});\r\nexport const savePhotoSucces = (file) => ({type: SET_PHOTO, file});\r\n\r\n\r\nexport const setProfile = (id) => async (dispatch) => {\r\n    let response = await profileAPI.getMyProfile(id)\r\n    dispatch(getProfile(response));\r\n}\r\nexport const setStatus = (id) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(id)\r\n    dispatch(newStatusText(response));    \r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(newStatusText(response));\r\n    }\r\n}\r\nexport const sendPhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.takePhoto(file)\r\n    if(response.resultCode === 0) {\r\n        dispatch(savePhotoSucces(response.data.photos))\r\n    }\r\n}\r\nexport const updateProfileData = (data) => async (dispatch, getState) => {\r\n    const userId = getState().authReducer.userId\r\n    let response = await profileAPI.sendProfileData(data)\r\n    if(response.resultCode === 0) {\r\n        dispatch(setProfile(userId))\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"src_wrapper__1BTyp\",\"wrapper__content\":\"src_wrapper__content__8q9T-\"};"],"sourceRoot":""}