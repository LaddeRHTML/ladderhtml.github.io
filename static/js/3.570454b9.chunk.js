(this["webpackJsonpmy-app-01"]=this["webpackJsonpmy-app-01"]||[]).push([[3],{290:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(95);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(c){r=!0,n=c}finally{try{s||null==o.return||o.return()}finally{if(r)throw n}}return a}}(e,t)||Object(s.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},291:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(3),r=(a(0),a(19)),n=a(11),i=a(1),o=function(e){return{isAuth:e.authReducer.isAuth}},c=function(e){return Object(r.b)(o)((function(t){return t.isAuth?Object(i.jsx)(e,Object(s.a)({},t)):Object(i.jsx)(n.a,{to:"/login"})}))}},294:function(e,t,a){e.exports={post:"post_post__15KVg",head:"post_head__LDpoy",right:"post_right__2rAAv",avatar:"post_avatar__3m-Wn",name:"post_name__2qvA2",link:"post_link__1Ai1y",message:"post_message__3u9rH",footer:"post_footer__3lim3",likes:"post_likes__axT9W",like:"post_like__3kSaN"}},295:function(e,t,a){e.exports={posts:"posts_posts__RT5fm"}},296:function(e,t,a){e.exports={profileInfo:"profileInfo_profileInfo__3fSaH",profileInner:"profileInfo_profileInner__YMXLJ",profileFooter:"profileInfo_profileFooter__3zR4c",profileFooter__postwrite:"profileInfo_profileFooter__postwrite__295hf",backButton:"profileInfo_backButton__2PAEr",profileDescr:"profileInfo_profileDescr__3XFhB",profileItem:"profileInfo_profileItem__1wfj_",aboutItem:"profileInfo_aboutItem__3yL9A",aboutDescr:"profileInfo_aboutDescr__3grvf",editButton:"profileInfo_editButton__10Yru",profileHeader__name:"profileInfo_profileHeader__name__3PaNT",profileHeader__status:"profileInfo_profileHeader__status__3aCJz",avatar:"profileInfo_avatar__1gR6k",avatarWrap:"profileInfo_avatarWrap__2VpOr",avatarInput:"profileInfo_avatarInput__vWL74",avatarInner:"profileInfo_avatarInner__4Y3Ul",editInfoTitle:"profileInfo_editInfoTitle__29l_3",moreInfoBtn:"profileInfo_moreInfoBtn__Ts23Q",upStage:"profileInfo_upStage__2cQ8a",downStage:"profileInfo_downStage__CyT1k",downStage_active:"profileInfo_downStage_active__iXPK6"}},298:function(e,t,a){"use strict";a.r(t);var s=a(19),r=a(11),n=a(10),i=a(127),o=a(25),c=function(e){return e.profileReducer.posts},l=function(e){return e.profileReducer.newPostText},u=function(e){return e.profileReducer.profile},d=function(e){return e.profileReducer.status},f=function(e){return e.profileReducer.editMode},j=a(291),p=a(52),b=a(53),m=a(63),h=a(62),O=a(0),v=a.n(O),_=a(294),x=a.n(_),I=a(1),N=function(e){var t=e.message,a=e.likes,s=e.name,r=e.avatar,n=e.id;return Object(I.jsxs)("div",{id:n,className:x.a.post,children:[Object(I.jsxs)("div",{className:x.a.head,children:[Object(I.jsx)("div",{className:x.a.avatar,children:Object(I.jsx)("img",{src:null!=r?r:"https://html5css.ru/w3images/avatar2.png",alt:"myMiniAvatar"})}),Object(I.jsxs)("div",{className:x.a.right,children:[Object(I.jsx)("a",{className:x.a.name,href:"#",children:s}),Object(I.jsx)("a",{className:x.a.time,href:"#",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432 13:37"})]})]}),Object(I.jsx)("div",{className:x.a.message,children:t}),Object(I.jsx)("div",{className:x.a.footer,children:Object(I.jsxs)("div",{className:x.a.likes,children:[Object(I.jsx)("button",{className:x.a.like}),Object(I.jsx)("div",{children:a})]})})]})},g=a(295),S=a.n(g),w=v.a.memo((function(e){var t=e.posts,a=e.profile,s=a.fullName,r=a.photos,n=t.map((function(e){return Object(I.jsx)(N,{id:e.id,message:e.message,name:s,avatar:r.small,likes:e.likes},e.id)}));return Object(I.jsx)("div",{className:S.a.posts,children:n})})),k=a(7),y=a.n(k),D=a(12),T=a(290),P=a(128),M=a(129),A=a(296),F=a.n(A),E=function(e){var t=e.updateStatus,a=Object(O.useState)(!1),s=Object(T.a)(a,2),r=s[0],n=s[1],i=Object(O.useState)(e.status),o=Object(T.a)(i,2),c=o[0],l=o[1];Object(O.useEffect)((function(){l(e.status)}),[e.status]);var u=function(e){n(e)};return Object(I.jsx)("div",{className:"status",children:r?Object(I.jsx)("div",{children:Object(I.jsx)("input",{autoFocus:!0,onBlur:function(){u(!1),t(c)},value:c,onChange:function(e){l(e.currentTarget.value)}})}):Object(I.jsx)("div",{onClick:function(){return u(!0)},children:Object(I.jsx)("span",{children:c||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})})})},B=a(51),C=a(41),H=function(e){var t=e.contactTitle,a=e.contactValue,s=e.s;return Object(I.jsxs)("div",{className:s.profileItem,children:[Object(I.jsxs)("div",{className:s.aboutItem,children:[t,":"]}),a?Object(I.jsx)("a",{className:s.aboutDescr,href:a,rel:"noreferrer",target:"_blank",children:a}):Object(I.jsx)("div",{className:s.aboutDescr,children:"\u041f\u0443\u0441\u0442\u043e"})]})},R=function(e){var t=e.contactTitle,a=e.placeholder,s=e.name,r=e.s;return Object(I.jsxs)("div",{className:r.profileItem,children:[Object(I.jsx)("div",{className:r.aboutItem,children:t}),Object(I.jsx)(P.a,{component:C.a,placeholder:a||"\u0421\u0441\u044b\u043b\u043a\u0430",name:s,validate:[B.b]})]})},J=function(e){var t=e.item,a=e.itemDescr,s=(e.plug,e.s);return Object(I.jsxs)("div",{className:s.profileItem,children:[Object(I.jsx)("div",{className:s.aboutItem,children:a}),Object(I.jsx)("div",{className:s.aboutDescr,children:t})]})},W=function(e){var t=e.item,a=e.itemDescr,s=e.search,r=e.dontSearch,n=e.s;return Object(I.jsxs)("div",{className:n.profileItem,children:[Object(I.jsx)("div",{className:n.aboutItem,children:a}),Object(I.jsx)("div",{className:n.aboutDescr,children:t?s:r})]})},V=function(e){var t=e.itemDescr,a=e.name,s=e.placeholder,r=e.type,n=e.s;return Object(I.jsxs)("div",{className:n.profileItem,children:[Object(I.jsx)("div",{className:n.aboutItem,children:t}),Object(I.jsx)("div",{className:n.aboutDescr,children:Object(I.jsx)(P.a,{type:r?"checkbox":"input",component:C.a,placeholder:s,name:a,validate:[B.b]})})]})},G=function(e){var t=e.s,a=e.handleSubmit,s=e.profile,r=e.turnOffEditMode,n=e.isOwner;return Object(I.jsxs)("form",{onSubmit:a,className:t.profileFooter,children:[Object(I.jsxs)("div",{className:t.profileDescr,children:[Object(I.jsx)("div",{className:t.editInfoTitle,children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),n?Object(I.jsx)("div",{className:t.backButton,onClick:r,children:"\u041d\u0430\u0437\u0430\u0434"}):null]}),Object(I.jsx)(V,{itemDescr:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:",name:"fullName",placeholder:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",s:t}),Object(I.jsx)(V,{itemDescr:"\u041e\u0431\u043e \u043c\u043d\u0435:",name:"aboutMe",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",s:t}),Object(I.jsx)("div",{className:t.profileDescr,children:Object(I.jsx)("div",{className:t.editInfoTitle,children:"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(I.jsx)(V,{itemDescr:"\u0418\u0449\u0443 \u0420\u0430\u0431\u043e\u0442\u0443:",name:"lookingForAJob",placeholder:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443",type:"checkbox",s:t}),Object(I.jsx)(V,{itemDescr:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:",name:"lookingForAJobDescription",placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443",s:t}),Object(I.jsx)("div",{className:t.profileDescr,children:Object(I.jsx)("div",{className:t.editInfoTitle,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object.keys(s.contacts).map((function(e){return Object(I.jsx)(R,{contactTitle:e,placeholder:s.contacts[e],name:"contacts."+e,s:t},e)})),Object(I.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},L=G=Object(M.a)({form:"profileData"})(G),X=function(e){var t=e.profile,a=e.isOwner,s=e.goToEditMode,r=e.s,n=Object(O.useState)(!1),i=Object(T.a)(n,2),o=i[0],c=i[1],l=function(e){c(e)},u=t.fullName,d=t.aboutMe,f=t.lookingForAJob,j=t.lookingForAJobDescription;return Object(I.jsxs)("div",{className:r.profileFooter,children:[Object(I.jsxs)("div",{className:r.upStage,children:[Object(I.jsxs)("div",{className:r.profileDescr,children:[Object(I.jsx)("div",{className:r.editInfoTitle,children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),a?Object(I.jsx)("div",{className:r.editButton,onClick:s,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}):null]}),Object(I.jsx)(J,{itemDescr:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:",item:u,plug:"\u0418\u043c\u044f",s:r}),Object(I.jsx)(J,{itemDescr:"\u041e\u0431\u043e \u043c\u043d\u0435:",item:d,plug:"\u0418\u043d\u0444\u044b \u043d\u0435\u0442 ;(",s:r})]}),o?Object(I.jsx)("div",{className:r.moreInfoBtn,onClick:function(){return l(!1)},children:"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"}):Object(I.jsx)("div",{className:r.moreInfoBtn,onClick:function(){return l(!0)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"}),Object(I.jsxs)("div",{className:o?r.downStage_active:r.downStage,children:[Object(I.jsx)("div",{className:r.profileDescr,children:Object(I.jsx)("div",{className:r.editInfoTitle,children:"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(I.jsx)(W,{itemDescr:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:",item:f,search:"\u0418\u0449\u0443",dontSearch:"\u041d\u0435 \u0438\u0449\u0443",s:r}),Object(I.jsx)(J,{itemDescr:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:",item:j,plug:"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",s:r}),Object(I.jsx)("div",{className:r.profileDescr,children:Object(I.jsx)("div",{className:r.editInfoTitle,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object.keys(t.contacts).map((function(e){return Object(I.jsx)(H,{contactTitle:e,contactValue:t.contacts[e],s:r},e)}))]})]})},Y=function(e){var t=e.isOwner,a=e.onGetNewFile,s=e.profile,r=e.s;return Object(I.jsxs)("div",{className:r.avatarInner,children:[Object(I.jsx)("div",{className:r.avatar,children:Object(I.jsx)("img",{src:s.photos.large?s.photos.large:"https://html5css.ru/w3images/avatar2.png",alt:"myAvatar"})}),t&&Object(I.jsx)(z,{onGetNewFile:a,s:r})]})},z=function(e){var t=e.onGetNewFile,a=e.s;return Object(I.jsxs)("button",{className:a.avatarWrap,children:[Object(I.jsx)("input",{className:a.avatarInput,type:"file",onChange:t})," \u0412\u044b\u0431\u0430\u0442\u044c \u0444\u0430\u0439\u043b"]})},K=Object(B.a)(100),Q=function(e){var t=e.handleSubmit;return Object(I.jsxs)("form",{onSubmit:t,className:F.a.profileFooter__postwrite,children:[Object(I.jsx)(P.a,{name:"postInput",component:C.b,type:"text",placeholder:"\u0427\u0435\u043c \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f?",validate:[B.b,K]}),Object(I.jsx)("button",{type:"sumbit",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})};Q=Object(M.a)({form:"post-form"})(Q);var U=function(e){var t=e.status,a=e.statusEditMode,s=e.toggleEditModeStatus,r=e.newStatusText,n=e.updateStatus,i=e.addPost,o=e.profile,c=e.isOwner,l=e.sendPhoto,u=e.updateProfileData,d=Object(O.useState)(!1),f=Object(T.a)(d,2),j=f[0],p=f[1],b=function(){var e=Object(D.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:p(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:F.a.profileInfo,children:[Object(I.jsx)(Y,{isOwner:c,onGetNewFile:function(e){e.target.files.length&&l(e.target.files[0])},s:F.a,profile:o}),Object(I.jsxs)("div",{className:F.a.profileInner,children:[Object(I.jsxs)("div",{className:F.a.profileHeader,children:[Object(I.jsx)("div",{className:F.a.profileHeader__name,children:o.fullName}),Object(I.jsx)("div",{className:F.a.profileHeader__status,children:Object(I.jsx)(E,{status:t,editMode:a,toggleEditMode:s,newStatusText:r,updateStatus:n})}),j?Object(I.jsx)(L,{turnOffEditMode:function(){return p(!1)},initialValues:o,s:F.a,onSubmit:b,profile:o,isOwner:c}):Object(I.jsx)(X,{goToEditMode:function(){return p(!0)},isOwner:c,profile:o,s:F.a})]}),Object(I.jsx)(Q,{onSubmit:function(e){i(e.postInput)}})]})]})},q=a(125),Z=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"refreshProfile",value:function(){var e=this.props,t=e.setProfile,a=e.setStatus,s=e.match.params.userId;s||(s=e.userId),t(s),a(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.addPost,a=e.changePostText,s=e.newPostText,r=e.profile,n=e.posts,i=e.match,o=e.sendPhoto,c=e.updateProfileData,l=e.status,u=e.editMode,d=e.toggleEditMode,f=e.newStatusText,j=e.updateStatus,p=!i.params.userId;return r?Object(I.jsxs)("div",{children:[Object(I.jsx)(U,{updateProfileData:c,sendPhoto:o,isOwner:p,addPost:t,changePostText:a,newPostText:s,profile:r,status:l,statusEditMode:u,toggleEditModeStatus:d,newStatusText:f,updateStatus:j}),p?Object(I.jsx)(w,{posts:n,profile:r}):null]}):Object(I.jsx)(q.a,{})}}]),a}(O.Component);t.default=Object(n.d)(Object(s.b)((function(e){return{posts:c(e),newPostText:l(e),profile:u(e),status:d(e),editMode:f(e),isAuth:Object(o.b)(e),userId:Object(o.e)(e)}}),{addPost:i.a,changePostText:i.b,getProfile:i.c,toggleEditMode:i.i,newStatusText:i.d,setProfile:i.g,setStatus:i.h,updateStatus:i.k,sendPhoto:i.f,updateProfileData:i.j}),r.g,j.a)(Z)}}]);
//# sourceMappingURL=3.570454b9.chunk.js.map