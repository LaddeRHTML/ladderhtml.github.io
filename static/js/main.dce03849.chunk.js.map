{"version":3,"sources":["utils/opener/opener.js","service/service.js","common/loading/loading.js","redux/reducers/dialogsReducer/dialogsReducer.js","redux/reducers/usersReducer/usersReducer.js","Components/404/notFound.module.scss","redux/selector/authSelector.js","Components/Settings/index.js","Components/Settings/settings.js","Components/Navbar/index.js","Components/Navbar/navbar.js","redux/reducers/authReducer/authReducer.js","redux/reducers/headerReducer/headerReducer.js","Components/Header/topProfileLink/topProfileLink.js","Components/Header/header.js","Components/Header/headerContainer.js","common/capcha/captcha.js","Components/loginPage/loginPage.js","Components/loginPage/index.js","Components/loginPage/loginPageContainer.js","redux/reducers/appReducer/appReducer.js","redux/selector/appSelector.js","redux/reducers/loginReducer/loginReducer.js","redux/reduxStore.js","Components/hoc/reactSuspense.js","Components/404/404.js","App.js","index.js","Components/loginPage/formValidate.module.scss","Components/Navbar/navbar.module.scss","utils/objectHelpers/objectHelpers.js","common/Textarea/formChilds.js","index.module.scss","Components/Header/header.module.scss","utils/validator.js","common/loading/index.js","common/Textarea/formChilds.module.scss","redux/reducers/profileReducer/profileReducer.js"],"names":["useComponentVisible","initialIsVisible","useState","isComponentVisible","setIsComponentVisible","ref","useRef","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","id","post","unFollow","delete","profile","profileAPI","getMyProfile","userId","getStatus","updateStatus","status","put","takePhoto","file","formData","FormData","append","sendProfileData","auth","authAPI","getAuth","loginMe","email","password","rememberMe","captcha","logoutMe","registerMe","securityApi","getCapchaUrl","Loading","className","initialState","messages","message","dialogs","name","ADD_NEW_MESSAGE","dialogsReducer","state","action","type","addNewMessage","FOLLOW","UNFOLLOW","SET_USERS","UPDATE_PAGES","LOAD_USERS","IS_FETCHING","FOLLOW_IN_PROGRESS","users","isLoading","totalUserCount","followingInProgress","usersReducer","userHelper","followed","pageNumber","usersAmount","loading","filter","Follow","Unfollow","setUsers","updatePages","loadUsers","loader","followProgress","dispatch","a","items","totalCount","getPages","followUnfollowFlow","apiMethod","actionCreator","resultCode","followThunk","bind","unFollowThunk","module","exports","userIdSelector","authReducer","emailSelector","loginSelector","login","isLoadingSelector","isAuthSelector","isAuth","Settings","Navbar","sBarStyles","sidebar","activeClassName","active","to","AUTH_USER","CAPTCHA","captchaUrl","authUser","logout","getCaptcha","console","log","url","GET_PROFILE_FOR_HEADER","getProfileForHeader","TopProfileLink","s","topProfileLink","headBlock__active","headBlock","onClick","headName","fullName","avatar","src","photos","small","alt","arrow","TopProfileModal","modal","modalHead","modalName","divider","item","SwitchLogin","Header","props","this","setProfileForHeader","refreshProfileInfo","prevProps","headerStyles","header","wrapper","img","Component","HeaderContainer","compose","connect","headerReducer","withRouter","Captcha","Field","component","Input","placeholder","required","maxLength20","maxLengthCreator","LoginForm","handleSubmit","error","onSubmit","validate","requiredField","regInput","rememerMeWrapp","rememberMeBtn","formAccesError","reduxForm","form","LoginPage","values","loginPageContainer","length","stopSubmit","_error","INITIALIZED_SUCCES","initialazed","initialazedSelector","appReducer","AUTH_ME","reducers","combineReducers","profileReducer","loginReducer","formReducer","plugin","ADD_POST","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","withSuspense","fallback","NotFound","notFound","MessagesContainer","React","lazy","ProfileContainer","UsersContainer","Feed","App","catchAllUnhandleErrors","promiseRejectionEvent","alert","reason","initializeApp","styles","wrapper__navbar","wrapper__content","exact","path","render","AppContainer","promise","Promise","all","MainApp","basename","process","ReactDOM","getElementById","objProp","objPropName","map","i","likeHelper","objPropSecond","FormControl","meta","children","touched","fStyles","formControl_error","formControl","errorBlock","TextArea","input","restProps","value","maxLength","DELETE_POST","GET_PROFILE","NEW_STATUS_TEXT","SET_PHOTO","SET_LIKE_POST","UNSET_LIKE_POST","PICTURE_PREVIEW","posts","likes","liked","picture","picturePreview","maxId","unshift","newPost","text","index","findIndex","postId","newArr","slice","count","profileId","addPost","deletePost","likePost","disLikePost","setPicturePreview","changePostText","newText","getProfile","toggleEditMode","boolean","editMode","newStatusText","savePhotoSucces","setProfile","setStatus","sendPhoto","updateProfileData","getState"],"mappings":"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","file":"static/js/main.dce03849.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function useComponentVisible(initialIsVisible) {\r\n    const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible);\r\n    const ref = useRef(null);\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n            setIsComponentVisible(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', handleClickOutside, true);\r\n        return () => {\r\n            document.removeEventListener('click', handleClickOutside, true);\r\n        };\r\n    });\r\n\r\n    return { ref, isComponentVisible, setIsComponentVisible };\r\n}","import * as axios from 'axios';\r\n\r\nconst baseUrl = 'https://social-network.samuraijs.com/api/1.0/';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: baseUrl,\r\n    headers: {\r\n        \"API-KEY\": \"40f73a95-bafe-4321-802d-b0ebad3cd1c8\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`).then(response=>response.data)\r\n    },\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response=>response.data)\r\n    }\r\n}\r\nconst profile = 'profile';\r\nexport const profileAPI = {\r\n    getMyProfile(userId) {\r\n        return instance.get(`${profile}/${userId}`).then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`${profile}/status/${userId}`).then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`${profile}/status`, {status}).then(response => response.data)\r\n    },\r\n    takePhoto(file) {\r\n        let formData = new FormData();\r\n        formData.append('image', file)\r\n        return instance.put(`${profile}/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response=>response.data)\r\n    },\r\n    sendProfileData(data) {\r\n        return instance.put(`${profile}`, data).then(response => response.data)\r\n    }\r\n}\r\nconst auth = 'auth';\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`${auth}/me`).then(response=>response.data)\r\n    },\r\n    loginMe(email, password, rememberMe = false, captcha) {\r\n        return instance.post(`${auth}/login`, {email, password, rememberMe, captcha}).then(response=>response.data)\r\n    },\r\n    logoutMe() {\r\n        return instance.delete(`${auth}/login`).then(response=>response.data)\r\n    },\r\n    registerMe(data) {\r\n        return axios.post(`https://social-network.samuraijs.com/Auth/Auth/TryRegister`, data).then(response => response.data)\r\n    }\r\n}\r\nconst security = 'security';\r\nexport const securityApi = {\r\n    getCapchaUrl() {\r\n        return instance.get(`${security}/get-captcha-url`)\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './loading.scss';\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"loading\">\r\n            <div className = \"loading-item\" >\r\n                <div className=\"loading-pac\">\r\n                    <div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                    </div>\r\n                    <div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Loading;","let initialState = {\r\n    messages: [\r\n        { message: 'Sovok', id: 1},\r\n        { message: 'Bil', id: 2 },\r\n        { message: 'Shit', id: 3 }\r\n    ],\r\n    dialogs: [\r\n        { id: 1, name: 'Alim' },\r\n        { id: 2, name: 'Danilka' },\r\n        { id: 3, name: 'Zhan' },\r\n        { id: 4, name: 'Ilya' }\r\n    ]\r\n}\r\n\r\nlet ADD_NEW_MESSAGE = 'social-network/dialogsReducer/ADD-NEW-MESSAGE';\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_NEW_MESSAGE: {\r\n            return {...state, messages: [...state.messages, {id: 7, message: action.message}]\r\n            }\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\nexport const addNewMessage = (message) => ({type: ADD_NEW_MESSAGE, message})","import { usersAPI } from \"../../../service/service\";\r\nimport { userHelper } from \"../../../utils/objectHelpers/objectHelpers\";\r\n\r\nlet FOLLOW = 'social-network/usersReducer/FOLLOW';\r\nlet UNFOLLOW = 'social-network/usersReducer/UNFOLLOW';\r\nlet SET_USERS = 'social-network/usersReducer/SET-USERS';\r\nlet UPDATE_PAGES = 'social-network/usersReducer/UPDATE-PAGES';\r\nlet LOAD_USERS = 'social-network/usersReducer/LOAD-USERS';\r\nlet IS_FETCHING = 'social-network/usersReducer/IS-FETCHING';\r\nlet FOLLOW_IN_PROGRESS = 'social-network/usersReducer/FOLLOW-IN-PROGRESS'; \r\n\r\n\r\nlet initialState = {\r\n    users: [\r\n        /* {\r\n            id: 1,\r\n            name: 'Roman Pshenichnyy', \r\n            avatar: 'https://sun3-13.userapi.com/impg/ZtquHClbbXaBoSccQqAIAdS02sEgrlDo8684-w/F-SaUcm0Usw.jpg?size=777x854&quality=96&sign=7e3c831a5cceac7f991054e603e51cc0&type=album', \r\n            city: 'Almaty', \r\n            cereer: 'Web-Developer', \r\n            status: \"I'm Happy\", \r\n            followed: true\r\n        },\r\n        { \r\n            id: 2, \r\n            name: 'Alimkhan Rathanov', \r\n            avatar: 'https://sun9-7.userapi.com/impf/qcm-11a4_k4hHU7mLPWrlsJx6DqI7wGsWy-tYA/DHXZrzilWDA.jpg?size=960x1280&quality=96&sign=fdfd71663547b66fadd666406cb5e300&type=album', \r\n            city: 'Almaty', \r\n            cereer: 'Economics', \r\n            status: \"I'm Rofler\", \r\n            followed: true \r\n        },\r\n        {\r\n            \"name\": \"tire1315\",\r\n            \"id\": 16042,\r\n            \"uniqueUrlName\": null,\r\n            \"photos\": {\r\n              \"small\": null,\r\n              \"large\": null\r\n            },\r\n            \"status\": null,\r\n            \"followed\": false\r\n        } */\r\n    ],\r\n    isLoading: false,\r\n    pageSize: 8,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    followingInProgress: []\r\n};\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: userHelper(state.users, action.userId, {followed: true}, 'id')\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: userHelper(state.users, action.userId, {followed: false}, 'id')\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return { ...state, users: [...action.users], }\r\n        }\r\n        case UPDATE_PAGES: {\r\n            return { ...state, currentPage: action.pageNumber }\r\n        }\r\n        case LOAD_USERS: {\r\n            return { ...state, totalUserCount: action.usersAmount }\r\n        }\r\n        case IS_FETCHING: {\r\n            return { ...state, isLoading: action.loading }\r\n        }\r\n        case FOLLOW_IN_PROGRESS: {\r\n            return { \r\n                ...state, \r\n                followingInProgress: action.status \r\n                ? [...state.followingInProgress, action.userId] \r\n                : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport const Follow = (userId) => ({ type: FOLLOW, userId });\r\nexport const Unfollow = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const updatePages = (pageNumber) => ({ type: UPDATE_PAGES, pageNumber });\r\nexport const loadUsers = (usersAmount) => ({ type: LOAD_USERS, usersAmount });\r\nexport const loader = (loading) => ({ type: IS_FETCHING, loading });\r\nexport const followProgress = (status, userId) => ({ type: FOLLOW_IN_PROGRESS, status, userId });\r\n\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(loader(true));\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(response.items));\r\n    dispatch(loadUsers(response.totalCount = 499));\r\n    dispatch(loader(false));\r\n}\r\n\r\nexport const getPages = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(updatePages(currentPage));\r\n    let response = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setUsers(response.items));\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (apiMethod, actionCreator, id, dispatch) => {\r\n    dispatch(followProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(id));\r\n        dispatch(followProgress(false, id));\r\n    }\r\n}\r\nexport const followThunk = (id) => async (dispatch) => {\r\n    followUnfollowFlow(usersAPI.follow.bind(usersAPI), Follow, id, dispatch);\r\n}\r\nexport const unFollowThunk = (id) => async (dispatch) => {\r\n    followUnfollowFlow(usersAPI.unFollow.bind(usersAPI), Unfollow, id, dispatch);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notFound\":\"notFound_notFound__2csVV\"};","export const userIdSelector = (state) => {\r\n    return state.authReducer.userId\r\n}\r\nexport const emailSelector = (state) => {\r\n    return state.authReducer.email\r\n}\r\nexport const loginSelector = (state) => {\r\n    return state.authReducer.login\r\n}\r\nexport const isLoadingSelector = (state) => {\r\n    return state.authReducer.isLoading\r\n}\r\nexport const isAuthSelector = (state) => {\r\n    return state.authReducer.isAuth\r\n}","import Settings from './settings';\r\nexport default Settings;","import React from 'react';\r\nconst Settings = () => {\r\n    return (\r\n        <>\r\n            <div>Settings</div>\r\n        </>\r\n    )\r\n}\r\nexport default Settings;","import Navbar from './navbar';\r\nexport default Navbar;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport sBarStyles from './navbar.module.scss';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <aside className={sBarStyles.sidebar}>\r\n            <ul>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/profile\">Моя страница</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/feed\">Новости</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/messages\">Сообщения</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/users\">Пользователи</NavLink></li>\r\n                <li><NavLink activeClassName={sBarStyles.active} to=\"/settings\">Настройки</NavLink></li>\r\n            </ul>\r\n        </aside>\r\n    )\r\n}\r\nexport default Navbar;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityApi } from \"../../../service/service\";\r\n\r\nlet AUTH_USER = 'social-network/authReducer/AUTH-USER';\r\nlet CAPTCHA = 'social-network/authReducer/CAPTHCA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isLoading: false,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case AUTH_USER : {\r\n            const {userId, email, login, isAuth} = action\r\n            return {...state, userId: userId, email: email, login: login, isAuth: isAuth }\r\n        }\r\n        case CAPTCHA : {\r\n            return {...state, captchaUrl: action.captcha }\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const authUser = (userId, email, login, isAuth) => ({type: AUTH_USER, userId, email, login, isAuth});\r\nexport const setCaptcha = (captcha) => ({type: CAPTCHA, captcha});\r\n\r\n\r\nexport const auth = () => async (dispatch) => {\r\n    let response = await authAPI.getAuth()\r\n    if (response.resultCode === 0) {\r\n        const {id, email, login} = response.data;\r\n        dispatch(authUser(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.loginMe(email, password, rememberMe, captcha)\r\n    console.log(response)\r\n    if(response.resultCode === 0) {\r\n        dispatch(auth());\r\n    } else {\r\n        if (response.resultCode === 10) {\r\n            dispatch(getCaptcha())\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : 'Login Error, pls check ur data';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response =  await authAPI.logoutMe()\r\n    if(response.resultCode === 0) {\r\n        dispatch(authUser(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => async (dispatch) => {\r\n    let response = await securityApi.getCapchaUrl();\r\n    console.log(response)\r\n    let captchaUrl = response.data.url; \r\n    dispatch(setCaptcha(captchaUrl))\r\n}\r\n\r\n/* export const registerMe = (data) => async (dispatch) => {\r\n    let response = await authAPI.registerMe(data);\r\n    debugger\r\n    console.log(response)\r\n} */","import { profileAPI } from \"../../../service/service\";\r\n\r\nconst GET_PROFILE_FOR_HEADER = 'social-network/headerReducer/GET_PROFILE_FOR_HEADER';\r\n\r\nlet initialState = {\r\n    profile: null\r\n}\r\n\r\nexport const headerReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_PROFILE_FOR_HEADER: {\r\n            return {...state, profile: action.userId}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst getProfileForHeader = (userId) => ({type: GET_PROFILE_FOR_HEADER, userId});\r\n\r\nexport const setProfileForHeader = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getMyProfile(userId);\r\n    console.log(response)\r\n    dispatch(getProfileForHeader(response))\r\n}","import { NavLink } from 'react-router-dom';\r\nimport useComponentVisible from '../../../utils/opener/opener';\r\n\r\nconst SwitchLogin = ({s, login, logout, profile, isAuth}) => {\r\n    return (\r\n        <>\r\n            { isAuth ? <TopProfileLink s={s} login={login} logout={logout} profile={profile} />\r\n                : <NavLink className={s.login} to={'/login'}>Войти</NavLink>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst TopProfileLink = ({s, login, logout, profile}) => {\r\n\r\n    const {ref, isComponentVisible, setIsComponentVisible} = useComponentVisible(false); \r\n\r\n    const changePressMode = (boolean) => {\r\n        setIsComponentVisible(boolean);\r\n    }\r\n\r\n    return (\r\n            <div className={s.topProfileLink} ref={ref}>\r\n                <div className={isComponentVisible ? s.headBlock__active : s.headBlock} onClick={ () => changePressMode(isComponentVisible === true ? false : true)}  >\r\n                    <div className={s.headName}>\r\n                        {profile ? profile.fullName : login}\r\n                    </div>\r\n                    <div className={s.avatar}>\r\n                        <img src={profile ? profile.photos.small : null} alt='headAvatar' />\r\n                    </div>\r\n                    <div className={s.arrow}></div>\r\n                </div>\r\n                {isComponentVisible ? <TopProfileModal s={s} profile={profile} login={login} logout={logout} /> : '' }\r\n            </div>\r\n        )\r\n}\r\n\r\nconst TopProfileModal = ({s, profile, login, logout}) => {\r\n\r\n    \r\n    return (\r\n        <div className={s.modal}>\r\n            <NavLink className={s.modalHead} to=\"/profile/\" >\r\n                <div className={s.avatar}>\r\n                    <img src={profile ? profile.photos.small : null} alt='headAvatar' />\r\n                </div>\r\n                <div className={s.modalName}>{profile ? profile.fullName : login}</div>\r\n            </NavLink>\r\n            <div className={s.divider}></div>\r\n            <div className={s.item} onClick={logout}>Выйти</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwitchLogin;","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport headerStyles from './header.module.scss'\r\nimport SwitchLogin from './topProfileLink/topProfileLink';\r\nclass Header extends Component {\r\n    refreshProfileInfo() {\r\n        const props = this.props;\r\n        const {userId, setProfileForHeader} = props;\r\n        if (userId) {\r\n            setProfileForHeader(userId);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfileInfo();\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.userId !== prevProps.userId) {\r\n            this.refreshProfileInfo();\r\n        }\r\n    }\r\n    render() {\r\n        const props = this.props\r\n        const {isAuth, login, logout, profile} = props;\r\n        \r\n        return (\r\n            <header className={headerStyles.header}>\r\n                <div className={headerStyles.wrapper}>\r\n                    <NavLink className={headerStyles.img} to='/profile' >\r\n                        <img src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20fill%3D%22none%22%20height%3D%2224%22%20width%3D%22136%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0%2011.5c0-5.42%200-8.13%201.68-9.82C3.37%200%206.08%200%2011.5%200h1c5.42%200%208.13%200%209.82%201.68C24%203.37%2024%206.08%2024%2011.5v1c0%205.42%200%208.13-1.68%209.82C20.63%2024%2017.92%2024%2012.5%2024h-1c-5.42%200-8.13%200-9.82-1.68C0%2020.63%200%2017.92%200%2012.5z%22%20fill%3D%22%232787f5%22%2F%3E%3Cg%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M6.5%207.5H4.75c-.5%200-.6.24-.6.5%200%20.46.6%202.76%202.76%205.8%201.45%202.07%203.49%203.2%205.34%203.2%201.11%200%201.25-.25%201.25-.68v-1.57c0-.5.1-.6.46-.6.26%200%20.7.13%201.74%201.13%201.19%201.19%201.38%201.72%202.05%201.72h1.75c.5%200%20.75-.25.6-.74-.15-.5-.72-1.2-1.47-2.05-.4-.49-1.02-1-1.2-1.26-.26-.34-.2-.49%200-.78%200%200%202.13-3%202.35-4.03.11-.37%200-.64-.53-.64H17.5a.76.76%200%2000-.76.5s-.9%202.16-2.15%203.57c-.41.41-.6.54-.82.54-.1%200-.27-.13-.27-.5V8.14c0-.44-.13-.64-.5-.64h-2.75c-.28%200-.45.2-.45.4%200%20.42.64.52.7%201.7v2.58c0%20.57-.1.67-.32.67-.6%200-2.04-2.18-2.9-4.67-.16-.48-.33-.68-.78-.68z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M66.86%2012.5c0%203.24-2.43%205.5-5.78%205.5s-5.78-2.26-5.78-5.5S57.73%207%2061.08%207s5.78%202.26%205.78%205.5zm-8.97%200c0%201.97%201.3%203.3%203.19%203.3s3.19-1.33%203.19-3.3c0-1.98-1.3-3.25-3.19-3.25s-3.19%201.28-3.19%203.25zm-17.14-.21c.95-.44%201.56-1.18%201.56-2.33%200-1.73-1.58-2.96-3.87-2.96h-5.27v11h5.5c2.37%200%204.02-1.29%204.02-3.05%200-1.33-.87-2.32-1.94-2.66zM35.6%209.01h2.83c.85%200%201.44.5%201.44%201.2s-.6%201.2-1.44%201.2h-2.83zM38.67%2016h-3.06V13.3h3.06c.96%200%201.59.55%201.59%201.36s-.63%201.33-1.59%201.33zM51.84%2018h3.19l-5.06-5.71L54.61%207h-2.9l-3.68%204.27h-.6V7H45v11h2.44v-4.38h.59zM76.47%207v4.34h-4.93V7H69.1v11h2.43v-4.44h4.93V18h2.43V7zM86.9%2018h-2.44V9.22h-3.8V7H90.7v2.22h-3.8zm9.5-11c-2.11%200-3.91.89-4.52%202.8l2.24.37c.34-.67%201.05-1.2%202.15-1.2%201.33%200%202.06.84%202.17%202.28h-2.32c-3.23%200-4.79%201.42-4.79%203.45%200%202.05%201.59%203.3%203.78%203.3%201.8%200%203-.72%203.53-1.63l.5%201.63h1.76v-6.18c0-3.19-1.74-4.82-4.5-4.82zm-.72%209c-1.19%200-1.9-.5-1.9-1.4%200-.85.57-1.44%202.43-1.44h2.35c0%201.8-1.19%202.84-2.88%202.84zm17.99%202h-3.2l-3.8-4.38h-.6V18h-2.43V7h2.43v4.27h.6L110.34%207h2.9l-4.63%205.29zm3.88%200h2.43V9.22h3.8V7h-10.04v2.22h3.8zM130.1%207c3.34%200%205.56%202.4%205.56%205.37%200%20.3-.02.55-.04.79h-8.54c.23%201.69%201.36%202.69%203.17%202.69%201.29%200%202.15-.4%202.68-1.2l2.29.39c-.88%202.01-2.83%202.96-5.12%202.96a5.28%205.28%200%2001-5.51-5.5c0-3.12%202.17-5.5%205.51-5.5zm2.92%204.25c-.4-1.37-1.4-2.15-2.92-2.15-1.48%200-2.47.74-2.87%202.15z%22%20fill%3D%22%2319191a%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\" alt=\"logo\"/>\r\n                    </NavLink>\r\n                    <SwitchLogin s={headerStyles} login={login} logout={logout} isAuth={isAuth} profile={profile} />\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\nexport default Header;","import {connect} from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\nimport {authUser, logout} from '../../redux/reducers/authReducer/authReducer';\r\nimport {setProfileForHeader} from '../../redux/reducers/headerReducer/headerReducer';\r\nimport { isLoadingSelector, loginSelector, userIdSelector, isAuthSelector, emailSelector } from '../../redux/selector/authSelector';\r\nimport Header from './header';\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userId: userIdSelector(state),\r\n        email: emailSelector(state),\r\n        login: loginSelector(state),\r\n        isLoading: isLoadingSelector(state),\r\n        isAuth: isAuthSelector(state),\r\n        profile: state.headerReducer.profile\r\n    }\r\n} \r\nconst HeaderContainer = compose(connect(mapStateToProps, {authUser, logout, setProfileForHeader}),withRouter)(Header);\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport { Input } from '../Textarea/formChilds';\r\nexport const Captcha = ({captcha}) => {\r\n    return (\r\n        <div>\r\n            <img src={captcha} alt='captcha' />\r\n            <Field component={Input} placeholder=\"Введите символы с картинки\" name=\"captcha\" required />\r\n        </div>\r\n    )\r\n} ","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Captcha } from '../../common/capcha/captcha';\r\nimport { Input } from '../../common/Textarea/formChilds';\r\nimport {maxLengthCreator, requiredField} from '../../utils/validator';\r\nimport s from './formValidate.module.scss';\r\n\r\nlet maxLength20 = maxLengthCreator(20)\r\nlet LoginForm = ({handleSubmit, error, captcha}) => {\r\n    return (\r\n        <form className=\"form\" onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field component={Input} type=\"email\" validate={[requiredField, maxLength20]} name=\"email\" placeholder=\"Почта\" className={s.regInput} />\r\n            </div>\r\n            <div>\r\n                <Field component={Input} validate={[requiredField, maxLength20]} name=\"password\" placeholder=\"Пароль\" type=\"password\" className={s.regInput} />\r\n            </div>\r\n            <div className={s.rememerMeWrapp}>\r\n                <label className={s.rememberMeBtn}>\r\n                    <Field component=\"input\" name=\"rememberMe\" type='checkbox' />\r\n                    <span className={s.rememberMe}>Запомнить меня</span>\r\n                </label>\r\n                <button type=\"submit\">Войти</button>\r\n            </div>\r\n            {captcha ? <Captcha captcha={captcha} /> : null}\r\n            {\r\n                error ? \r\n                    <div className={s.formAccesError}>\r\n                        {error}\r\n                    </div>: \r\n                null\r\n            }\r\n        </form>\r\n    )\r\n}\r\nLoginForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n/* let RegisterForm = ({handleSubmit}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n            <Field component={Input} validate={[requiredField, maxLength20]} name=\"JoinModel.Name\" />\r\n            <Field component={Input} validate={[requiredField, maxLength20]} name=\"JoinModel.Email\" />\r\n            <Field component={Input} validate={[requiredField, maxLength20]} name=\"JoinModel.Password\" />\r\n            <Field component=\"input\" type=\"checkbox\" name=\"JoinModel.AcceptOffer\" />\r\n            <button type=\"submit\">Регистр ми!</button>\r\n        </form>\r\n    )\r\n}\r\nRegisterForm = reduxForm({\r\n    form: 'register'\r\n})(RegisterForm) */\r\nconst LoginPage = ({login, isAuth, captchaUrl, registerMe}) => {\r\n    const submit = (values) => {\r\n        const {email, password, rememberMe, captcha} = values;\r\n        console.log(values)\r\n        login(email, password, rememberMe, captcha);\r\n    }\r\n    /* const submitRegisterMe = (values) => {\r\n        const {Name, Email, Password, AcceptOffer} = values.JoinModel;\r\n        registerMe(Name, Email, Password, AcceptOffer)\r\n    } */\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n        <div className={s.login}>\r\n            <LoginForm onSubmit={submit} captcha={captchaUrl} />\r\n            {/* <RegisterForm onSubmit={submitRegisterMe} /> */}\r\n        </div>\r\n    )\r\n}\r\nexport default LoginPage;","import loginPageContainer from './loginPageContainer';\r\nexport default loginPageContainer;","import { connect } from \"react-redux\"\r\nimport { login, logout, /* registerMe */ } from \"../../redux/reducers/authReducer/authReducer\";\r\nimport { isAuthSelector, isLoadingSelector } from \"../../redux/selector/authSelector\";\r\nimport LoginPage from \"./loginPage\"\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        /* userId: state.authReducer.userId,\r\n        email: state.authReducer.email,\r\n        login: state.authReducer.login, */\r\n        isLoading: isLoadingSelector(state),\r\n        isAuth: isAuthSelector(state),\r\n        captchaUrl: state.authReducer.captchaUrl\r\n    }\r\n} \r\nexport default connect(mapStateToProps, {login, logout, /* registerMe */})(LoginPage);\r\n","import { auth } from \"../authReducer/authReducer\";\r\n\r\nlet INITIALIZED_SUCCES = 'social-network/appReducer/INITIALIZED-SUCCES';\r\n\r\nlet initialState = {\r\n    initialazed: false\r\n}\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCES : {\r\n            return {...state, initialazed:  true}\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const setInitializedSecces = () => ({type: INITIALIZED_SUCCES});\r\n\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    let promise = await dispatch(auth())\r\n    Promise.all([promise])\r\n    dispatch(setInitializedSecces())\r\n}\r\n\r\n","export const initialazedSelector = (state) => {\r\n    return state.appReducer.initialazed\r\n}","/* import { authAPI } from \"../service/service\"; */\r\n\r\nlet AUTH_ME = 'social-network/loginReducer/LOGIN-ME';\r\n\r\nlet initialState = {\r\n    email: '',\r\n    password: '',\r\n    rememberMe: false,\r\n    captcha: false\r\n}\r\n\r\nexport let loginReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case AUTH_ME: {\r\n            return {...state, email: action.email, password: action.password, rememberMe: action.rememberMe, captcha: action.captcha}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport const loginMe = ({email, password, rememberMe, captcha}) => ({type: AUTH_ME, email, password, rememberMe, captcha});\r\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport { dialogsReducer } from \"./reducers/dialogsReducer/dialogsReducer\";\r\nimport { ADD_POST, profileReducer } from \"./reducers/profileReducer/profileReducer\";\r\nimport { loginReducer } from \"./reducers/loginReducer/loginReducer\";\r\nimport { usersReducer } from \"./reducers/usersReducer/usersReducer\";\r\nimport { appReducer } from \"./reducers/appReducer/appReducer\";\r\nimport { authReducer } from \"./reducers/authReducer/authReducer\";\r\nimport {headerReducer} from './reducers/headerReducer/headerReducer';\r\nimport thunk from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    authReducer,\r\n    profileReducer,\r\n    headerReducer,\r\n    dialogsReducer,\r\n    usersReducer,\r\n    loginReducer,\r\n    appReducer,\r\n    form: formReducer.plugin({\r\n        'post-form': (state, action) => {\r\n            switch(action.type) {\r\n                case ADD_POST: {\r\n                    return undefined;\r\n                }\r\n                default : {\r\n                    return state;\r\n                }\r\n            }\r\n        }\r\n    })\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Loading from '../../common/loading';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Loading/>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './notFound.module.scss'\r\nconst NotFound = () => {\r\n    return (\r\n        <div className={s.notFound}>\r\n            <NavLink to='/profile'></NavLink>\r\n        </div>\r\n    )\r\n}\r\nexport default NotFound;","import React, { Component } from 'react';\nimport Settings from './Components/Settings';\n// import MessagesContainer from './Components/Messages';\n// import ProfileContainer from './Components/Content';\n// import Feed from './Components/Feed';\nimport Navbar from './Components/Navbar';\nimport styles from './index.module.scss';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\n// import UsersContainer from './Components/Users/usersContainer';\nimport HeaderContainer from './Components/Header/headerContainer';\nimport LoginPage from './Components/loginPage';\nimport { connect } from 'react-redux';\nimport {initializeApp} from './redux/reducers/appReducer/appReducer';\nimport { compose } from 'redux';\nimport Loading from './common/loading';\nimport { initialazedSelector } from './redux/selector/appSelector';\nimport { HashRouter } from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport store from './redux/reduxStore';\nimport { withSuspense } from './Components/hoc/reactSuspense';\nimport NotFound from './Components/404/404';\nconst MessagesContainer = React.lazy(() => import('./Components/Messages/messagesContainer'));\nconst ProfileContainer = React.lazy(() => import('./Components/Content/profileContainer'));\nconst UsersContainer = React.lazy(() => import('./Components/Users/usersContainer'));\nconst Feed = React.lazy(() => import('./Components/Feed'));\n\nclass App extends Component {\n\tcatchAllUnhandleErrors = (promiseRejectionEvent) => {\n\t\talert('Some error occured', promiseRejectionEvent.reason.response);\n\t\tconsole.log(promiseRejectionEvent.reason.response);\n\t}\n\tcomponentDidMount() {\n        this.props.initializeApp();\n\t\twindow.addEventListener('unhandledrejection', this.catchAllUnhandleErrors)\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('unhandledrejection', this.catchAllUnhandleErrors)\n\t}\n\trender() {\n\t\tif (!this.props.initialazed) {\n\t\t\treturn <Loading/>\n\t\t}\n\n\t\tif (!this.props.isAuth) {\n\t\t\treturn (\n\t\t\t\t<div className={styles.wrapper}>\n\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t\t<Route path=\"/\" render={() => <Redirect to={'login'} />} />\n\t\t\t\t\t\t<Route path=\"/profile\" render={() => <Redirect to={'login'} />} />\n\t\t\t\t\t\t<Route path=\"/login\" exact render={() => <LoginPage />} />\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className={styles.wrapper}>\n\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<Navbar className={styles.wrapper__navbar} />\n\t\t\t\t\t\t<div className={styles.wrapper__content}>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path=\"/\" render={() => <Redirect to={'profile'} />} />\n\t\t\t\t\t\t\t\t<Route path=\"/login\" render={() => <LoginPage />} />\n\t\t\t\t\t\t\t\t<Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n\t\t\t\t\t\t\t\t<Route path=\"/feed\" render={withSuspense(Feed)}/>\n\t\t\t\t\t\t\t\t<Route path=\"/messages\" render={withSuspense(MessagesContainer)}/>\n\t\t\t\t\t\t\t\t<Route path=\"/users\" render={withSuspense(UsersContainer)}/>\n\t\t\t\t\t\t\t\t<Route path=\"/settings\" render={() => <Settings />} />\n\t\t\t\t\t\t\t\t<Route path=\"*\" exact render={() => <NotFound />} /> \n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t)\n\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tinitialazed: initialazedSelector(state),\n\t\tisAuth: state.authReducer.isAuth\n\t}\n}\nlet AppContainer = compose(\n\twithRouter,\n\tconnect(mapStateToProps, {initializeApp})\n)(App);\n\nconst MainApp = () => {\n\treturn (\n\t\t<HashRouter basename={process.env.PUBLIC_URL}>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppContainer />\n\t\t\t</Provider>\n\t\t</HashRouter>\n\t)\n}\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport MainApp from './App';\n\n\nReactDOM.render(\n    <MainApp/>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formAccesError\":\"formValidate_formAccesError__2H2ZP\",\"login\":\"formValidate_login__3mUMl\",\"regInput\":\"formValidate_regInput__3cpDg\",\"rememberMe\":\"formValidate_rememberMe__13Q-Q\",\"rememerMeWrapp\":\"formValidate_rememerMeWrapp__23PqN\",\"rememberMeBtn\":\"formValidate_rememberMeBtn__2cK33\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"navbar_sidebar__1OZrZ\",\"active\":\"navbar_active__M_aUX\"};","export const userHelper = (items, userId, objProp, objPropName) => {\r\n    return items.map(i => {\r\n        if (i[objPropName] === userId) {\r\n            return { ...i, ...objProp }\r\n        }\r\n        return i;\r\n    })\r\n}\r\nexport const likeHelper = (items, userId, objProp, objPropSecond, objPropName) => {\r\n    return items.map(i => {\r\n        if (i[objPropName] === userId) {\r\n            return { ...i, ...objProp, ...objPropSecond }\r\n        }\r\n        return i;\r\n    })\r\n}","import React from 'react';\r\nimport fStyles from './formChilds.module.scss';\r\n\r\nexport let FormControl = ({meta, children}, props) => {\r\n    const {error, touched} = meta;\r\n    return (\r\n        <div className={touched && error ? fStyles.formControl_error : fStyles.formControl}>\r\n            {children}\r\n            <div className={fStyles.errorBlock}>{error}</div>\r\n        </div>\r\n    )\r\n}\r\nexport let TextArea = (props) => {\r\n    const {input, meta, children,  ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} placeholder={props.placeholder} />\r\n        </FormControl>\r\n    )\r\n}\r\nexport let Input = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} placeholder={props.placeholder} />\r\n        </FormControl>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"src_wrapper__1BTyp\",\"wrapper__content\":\"src_wrapper__content__8q9T-\",\"wrapper__navbar\":\"src_wrapper__navbar__144q-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1STTg\",\"wrapper\":\"header_wrapper__1m_p6\",\"img\":\"header_img__1l1r8\",\"topProfileLink\":\"header_topProfileLink__2nbTn\",\"headBlock\":\"header_headBlock__dNtaB\",\"modal\":\"header_modal__2WgBR\",\"headBlock__active\":\"header_headBlock__active__mqz47\",\"headName\":\"header_headName__u7oGQ\",\"arrow\":\"header_arrow__1Sp7t\",\"avatar\":\"header_avatar__1aIP4\",\"modalHead\":\"header_modalHead__FDc0f\",\"modalName\":\"header_modalName__g3PmC\",\"item\":\"header_item__mgiAX\",\"divider\":\"header_divider__kOy_b\",\"login\":\"header_login__2_IJQ\"};","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return '';\r\n}\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value && value.length > maxLength) return `Максимальная длина ${maxLength} символов!`\r\n    return undefined;\r\n}","import Loading from './loading';\r\nexport default Loading;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBlock\":\"formChilds_errorBlock__2NREu\",\"formControl_error\":\"formChilds_formControl_error__3WcPD\"};","import { profileAPI } from \"../../../service/service\";\r\nimport { likeHelper } from \"../../../utils/objectHelpers/objectHelpers\";\r\n\r\nexport let ADD_POST = 'social-network/profileReducer/ADD-POST';\r\nlet DELETE_POST = 'social-network/profileReducer/DELETE-POST';\r\nlet CHANGE_TEXT = 'social-network/profileReducer/CHANGE-POST-TEXT';\r\nlet GET_PROFILE = 'social-network/profileReducer/GET-PROFILE';\r\nlet TOGGLE_EDIT_MODE = 'social-network/profileReducer/TOGGLE-EDIT-MODE';\r\nlet NEW_STATUS_TEXT = 'social-network/profileReducer/NEW-STATUS-TEXT';\r\nlet SET_PHOTO = 'social-network/profileReducer/SET_PHOTO';\r\nlet SET_LIKE_POST = 'social-network/profileReducer/SET_LIKE_POST';\r\nlet UNSET_LIKE_POST = 'social-network/profileReducer/UNSET_LIKE_POST';\r\nlet PICTURE_PREVIEW = 'social-network/profileReducer/PICTURE_PREVIEW';\r\n\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 4, message: 'new post', likes: 13, liked: false, picture: null },\r\n        { id: 3, message: 'TEST POSTS', likes: 12, liked: true, picture: null },\r\n        { id: 2, message: 'TEST POSTS', likes: 15, liked: false, picture: null },\r\n        { id: 1, message: 'TEST POSTS', likes: 16, liked: true, picture: null },\r\n    ],\r\n    profile: null,\r\n    status: null,\r\n    picturePreview: null\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let maxId = state.posts.unshift() + 1;\r\n            let newPost = {\r\n                id: maxId,\r\n                message: action.text,\r\n                likes: 0, \r\n                picture: state.picturePreview\r\n            };\r\n            return {...state, posts:[newPost, ...state.posts], picturePreview: null}\r\n        }\r\n        case DELETE_POST: {\r\n            let index = state.posts.findIndex( post => post.id === action.postId)\r\n            let newArr = [...state.posts.slice(0, index), ...state.posts.slice(index + 1)] \r\n            return {...state, posts: newArr}\r\n        }\r\n        case SET_LIKE_POST : {\r\n            return {...state, posts: likeHelper(state.posts, action.postId, {liked: true}, {likes: action.count + 1}, 'id')}\r\n        }\r\n        case UNSET_LIKE_POST : {\r\n            return {...state, posts: likeHelper(state.posts, action.postId, {liked: false}, {likes: action.count - 1}, 'id')}\r\n        }\r\n        case PICTURE_PREVIEW : {\r\n            return {...state, picturePreview: action.file}\r\n        }\r\n        /* case CHANGE_TEXT: {\r\n            return {...state,newPostText: action.newText}\r\n        } */\r\n        case GET_PROFILE: {\r\n            return {...state, profile: action.profileId}\r\n        }\r\n        /* case TOGGLE_EDIT_MODE: {\r\n            return {...state, editMode: action.editMode}\r\n        } */\r\n        case NEW_STATUS_TEXT: {\r\n            return {...state, status: action.text}\r\n        }\r\n        case SET_PHOTO: {\r\n            return {...state, profile: {...state.profile, photos: action.file}}\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPost = (text, picture) => ({ type: ADD_POST, text, picture });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const likePost = (postId, count) => ({type: SET_LIKE_POST, postId, count});\r\nexport const disLikePost = (postId, count) => ({type: UNSET_LIKE_POST, postId, count});\r\nexport const setPicturePreview = (file) => ({type: PICTURE_PREVIEW, file})\r\nexport const changePostText = (text) => ({ type: CHANGE_TEXT, newText: text });\r\nexport const getProfile = (profileId) => ({type: GET_PROFILE, profileId});\r\nexport const toggleEditMode = (boolean) => ({type: TOGGLE_EDIT_MODE, editMode: boolean});\r\nexport const newStatusText = (text) => ({type: NEW_STATUS_TEXT, text});\r\nexport const savePhotoSucces = (file) => ({type: SET_PHOTO, file});\r\n\r\n\r\nexport const setProfile = (id) => async (dispatch) => {\r\n    let response = await profileAPI.getMyProfile(id)\r\n    dispatch(getProfile(response));\r\n}\r\nexport const setStatus = (id) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(id)\r\n    dispatch(newStatusText(response));    \r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(newStatusText(response));\r\n    }\r\n}\r\nexport const sendPhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.takePhoto(file)\r\n    if(response.resultCode === 0) {\r\n        dispatch(savePhotoSucces(response.data.photos))\r\n    }\r\n}\r\nexport const updateProfileData = (data) => async (dispatch, getState) => {\r\n    const userId = getState().authReducer.userId\r\n    let response = await profileAPI.sendProfileData(data)\r\n    if(response.resultCode === 0) {\r\n        dispatch(setProfile(userId))\r\n    }\r\n}"],"sourceRoot":""}