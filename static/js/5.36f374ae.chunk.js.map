{"version":3,"sources":["Components/hoc/withAuthRedirect.js","Components/Messages/messages.module.scss","redux/selector/messageSelector.js","Components/Messages/dialogItem/index.js","Components/Messages/dialogItem/dialogItem.js","Components/Messages/messageItem/index.js","Components/Messages/messageItem/messageItem.js","Components/Messages/messages.js","Components/Messages/messagesContainer.js"],"names":["mapStateToPropsForRedirect","state","isAuth","authReducer","withAuthRedirect","Component","connect","props","to","module","exports","messagesSelector","dialogsReducer","messages","dialogsTextSelector","dialogs","DialogItem","id","name","pathId","className","sMessage","dialogItem","MessageItem","message","maxLength","maxLengthCreator","MessageForm","handleSubmit","onSubmit","messagesWrapper__formInner","Field","component","TextArea","type","placeholder","validate","requiredField","reduxForm","form","Messages","addMessage","newDialogs","map","d","newMessage","m","dialogWrapper","messagesWrapper","messagesWrapper__messageInner","dialogWrapper__inner","values","messageInput","compose","isAuthSelector","dispatch","addNewMessage"],"mappings":"yLAKIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,YAAYD,SAGjBE,EAAmB,SAACC,GAO7B,OADqCC,YAAQN,EAARM,EALT,SAACC,GACzB,OAAKA,EAAML,OAEJ,cAACG,EAAD,eAAeE,IAFI,cAAC,IAAD,CAAUC,GAAI,gB,oBCVhDC,EAAOC,QAAU,CAAC,QAAU,0BAA0B,cAAgB,gCAAgC,yBAA2B,2CAA2C,gBAAkB,kCAAkC,8BAAgC,gDAAgD,2BAA6B,6CAA6C,WAAa,6BAA6B,QAAU,4B,6ECDjaC,EAAmB,SAACV,GAC7B,OAAOA,EAAMW,eAAeC,UAEnBC,EAAsB,SAACb,GAChC,OAAOA,EAAMW,eAAeG,S,iDCHjBC,ECKI,SAAC,GAAgB,IAAfC,EAAc,EAAdA,GAAIC,EAAU,EAAVA,KACfC,EAAS,aAAeF,EAC9B,OACI,qBAAKA,GAAIA,EAAaG,UAAWC,IAASC,WAA1C,SAAsD,cAAC,IAAD,CAASd,GAAIW,EAAb,SAAsBD,KAA1DD,ICRXM,ECIK,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAClB,OACI,qBAAKJ,UAAWC,IAASG,QAAzB,SAAmCA,K,kCCEvCC,EAAYC,YAAiB,KAE7BC,EAAc,SAACpB,GAAW,IACnBqB,EAAgBrB,EAAhBqB,aACP,OACI,uBAAMC,SAAUD,EAAcR,UAAWC,IAASS,2BAAlD,UACI,cAACC,EAAA,EAAD,CACIC,UAAWC,IACXf,KAAK,eACLgB,KAAK,OACLC,YAAY,uGACZC,SAAU,CAACC,IAAeZ,KAE9B,wBAAQS,KAAK,SAAb,wEAKZP,EAAcW,YAAU,CACpBC,KAAM,WADID,CAEXX,GACH,IA6Bea,EA7BE,SAACjC,GAAW,IAClBkC,EAAclC,EAAdkC,WACA1B,EAAqBR,EAArBQ,QAASF,EAAYN,EAAZM,SAOZ6B,EAAa3B,EAAQ4B,KAAI,SAAAC,GAAC,OAAE,cAAC,EAAD,CAAY1B,KAAM0B,EAAE1B,KAAiBD,GAAI2B,EAAE3B,IAAZ2B,EAAE3B,OAC7D4B,EAAahC,EAAS8B,KAAI,SAAAG,GAAC,OAAE,cAAC,EAAD,CAAatB,QAASsB,EAAEtB,QAAoBP,GAAI6B,EAAE7B,IAAZ6B,EAAE7B,OAGzE,OACI,sBAAKG,UAAWC,IAASN,QAAzB,UACI,qBAAKK,UAAWC,IAAS0B,cAAzB,SACKL,IAEL,qBAAKtB,UAAWC,IAAS2B,gBAAzB,SACI,sBAAK5B,UAAWC,IAAS4B,8BAAzB,UACI,qBAAK7B,UAAWC,IAAS6B,qBAAzB,SACKL,IAEL,cAAC,EAAD,CAAahB,SAnBT,SAACsB,GACjBV,EAAWU,EAAOC,0BCZXC,sBACX/C,aAhBkB,SAACL,GACnB,MAAO,CACHY,SAAUF,EAAiBV,GAC3Bc,QAASD,EAAoBb,GAC7BC,OAAQoD,YAAerD,OAGN,SAACsD,GACtB,MAAO,CACHd,WAAY,SAACjB,GACT+B,EAASC,YAAchC,SAO/BpB,IAFWiD,CAGbb","file":"static/js/5.36f374ae.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.authReducer.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    let authRedirectComponent = (props) => {\r\n        if (!props.isAuth) return <Redirect to={'/login'} />\r\n        \r\n        return <Component {...props}/>\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(authRedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"messages_dialogs__1wIq-\",\"dialogWrapper\":\"messages_dialogWrapper__3TsF2\",\"dialogWrapper__formInner\":\"messages_dialogWrapper__formInner__WbJ3l\",\"messagesWrapper\":\"messages_messagesWrapper__35xXX\",\"messagesWrapper__messageInner\":\"messages_messagesWrapper__messageInner__10BST\",\"messagesWrapper__formInner\":\"messages_messagesWrapper__formInner__1fhjO\",\"dialogItem\":\"messages_dialogItem__1boNq\",\"message\":\"messages_message__oJUvm\"};","export const messagesSelector = (state) => {\r\n    return state.dialogsReducer.messages\r\n}\r\nexport const dialogsTextSelector = (state) => {\r\n    return state.dialogsReducer.dialogs\r\n}","import DialogItem from './dialogItem';\r\nexport default DialogItem;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport sMessage from '../messages.module.scss';\r\n\r\n\r\n\r\nconst DialogItem = ({id, name}) => {\r\n    const pathId = \"/messages/\" + id;\r\n    return (\r\n        <div id={id} key={id} className={sMessage.dialogItem}><NavLink to={pathId}>{name}</NavLink></div>\r\n    )\r\n}\r\nexport default DialogItem;","import MessageItem from './messageItem';\r\nexport default MessageItem;","import React from 'react';\r\nimport sMessage from '../messages.module.scss';\r\n\r\n\r\n\r\nconst MessageItem = ({message}) => {\r\n    return (\r\n        <div className={sMessage.message}>{message}</div>\r\n    )\r\n}\r\nexport default MessageItem;","import React from 'react';\r\nimport DialogItem from './dialogItem';\r\nimport MessageItem from './messageItem';\r\nimport sMessage from './messages.module.scss';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { TextArea } from '../../common/Textarea/formChilds';\r\nimport {maxLengthCreator, requiredField} from '../../utils/validator';\r\n\r\n\r\nlet maxLength = maxLengthCreator(300);\r\n\r\nlet MessageForm = (props) => {\r\n    const {handleSubmit} = props;\r\n    return (\r\n        <form onSubmit={handleSubmit} className={sMessage.messagesWrapper__formInner}>\r\n            <Field \r\n                component={TextArea}\r\n                name=\"messageInput\"\r\n                type=\"text\"\r\n                placeholder=\"Введите сообщение...\"\r\n                validate={[requiredField, maxLength]}\r\n            ></Field>\r\n            <button type=\"submit\" >Отправить</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nMessageForm = reduxForm({\r\n    form: 'message'\r\n})(MessageForm)\r\nconst Messages = (props) => {\r\n    const {addMessage} = props;\r\n    const {dialogs, messages} = props;\r\n\r\n    const sendMessage = (values) => {\r\n        addMessage(values.messageInput)\r\n    }\r\n\r\n    \r\n    let newDialogs = dialogs.map(d=><DialogItem name={d.name} key={d.id} id={d.id}/>);\r\n    let newMessage = messages.map(m=><MessageItem message={m.message} key={m.id} id={m.id}/>);\r\n\r\n\r\n    return (\r\n        <div className={sMessage.dialogs}>\r\n            <div className={sMessage.dialogWrapper}>\r\n                {newDialogs}\r\n            </div>\r\n            <div className={sMessage.messagesWrapper}>\r\n                <div className={sMessage.messagesWrapper__messageInner}>\r\n                    <div className={sMessage.dialogWrapper__inner}>\r\n                        {newMessage}\r\n                    </div>\r\n                    <MessageForm onSubmit={sendMessage} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Messages;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { addNewMessage } from '../../redux/reducers/dialogsReducer/dialogsReducer';\r\nimport { isAuthSelector } from '../../redux/selector/authSelector';\r\nimport { dialogsTextSelector, messagesSelector } from '../../redux/selector/messageSelector';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\nimport Messages from './messages';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messages: messagesSelector(state),\r\n        dialogs: dialogsTextSelector(state),\r\n        isAuth: isAuthSelector(state)\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (message) => {\r\n            dispatch(addNewMessage(message));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Messages);"],"sourceRoot":""}