(this["webpackJsonpmy-app-01"]=this["webpackJsonpmy-app-01"]||[]).push([[0],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(100),c=n(0);function a(e){var t=Object(c.useState)(e),n=Object(r.a)(t,2),a=n[0],i=n[1],u=Object(c.useRef)(null),o=function(e){u.current&&!u.current.contains(e.target)&&i(!1)};return Object(c.useEffect)((function(){return document.addEventListener("click",o,!0),function(){document.removeEventListener("click",o,!0)}})),{ref:u,isComponentVisible:a,setIsComponentVisible:i}}},13:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(96),c=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"40f73a95-bafe-4321-802d-b0ebad3cd1c8"}}),a={getUsers:function(e,t){return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},unFollow:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))}},i="profile",u={getMyProfile:function(e){return c.get("".concat(i,"/").concat(e)).then((function(e){return e.data}))},getStatus:function(e){return c.get("".concat(i,"/status/").concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return c.put("".concat(i,"/status"),{status:e}).then((function(e){return e.data}))},takePhoto:function(e){var t=new FormData;return t.append("image",e),c.put("".concat(i,"/photo"),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},sendProfileData:function(e){return c.put("".concat(i),e).then((function(e){return e.data}))}},o="auth",s={getAuth:function(){return c.get("".concat(o,"/me")).then((function(e){return e.data}))},loginMe:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return c.post("".concat(o,"/login"),{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},logoutMe:function(){return c.delete("".concat(o,"/login")).then((function(e){return e.data}))},registerMe:function(e){return r.post("https://social-network.samuraijs.com/Auth/Auth/TryRegister",e).then((function(e){return e.data}))}},l={getCapchaUrl:function(){return c.get("".concat("security","/get-captcha-url"))}}},131:function(e,t,n){"use strict";n(0),n(292);var r=n(1);t.a=function(){return Object(r.jsx)("div",{className:"loading",children:Object(r.jsx)("div",{className:"loading-item",children:Object(r.jsxs)("div",{className:"loading-pac",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})]})})})}},132:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(26),c=n(3),a={messages:[{message:"Sovok",id:1},{message:"Bil",id:2},{message:"Shit",id:3}],dialogs:[{id:1,name:"Alim"},{id:2,name:"Danilka"},{id:3,name:"Zhan"},{id:4,name:"Ilya"}]},i="social-network/dialogsReducer/ADD-NEW-MESSAGE",u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:7,message:t.message}])});default:return e}},o=function(e){return{type:i,message:e}}},133:function(e,t,n){"use strict";n.d(t,"k",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return x})),n.d(t,"j",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return R})),n.d(t,"i",(function(){return C}));var r=n(7),c=n.n(r),a=n(12),i=n(26),u=n(3),o=n(13),s=n(41),l="social-network/usersReducer/FOLLOW",d="social-network/usersReducer/UNFOLLOW",f="social-network/usersReducer/SET-USERS",p="social-network/usersReducer/UPDATE-PAGES",j="social-network/usersReducer/LOAD-USERS",h="social-network/usersReducer/IS-FETCHING",b="social-network/usersReducer/FOLLOW-IN-PROGRESS",O={users:[],isLoading:!1,pageSize:8,totalUserCount:0,currentPage:1,followingInProgress:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{users:Object(s.b)(e.users,t.userId,{followed:!0},"id")});case d:return Object(u.a)(Object(u.a)({},e),{},{users:Object(s.b)(e.users,t.userId,{followed:!1},"id")});case f:return Object(u.a)(Object(u.a)({},e),{},{users:Object(i.a)(t.users)});case p:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.pageNumber});case j:return Object(u.a)(Object(u.a)({},e),{},{totalUserCount:t.usersAmount});case h:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.loading});case b:return Object(u.a)(Object(u.a)({},e),{},{followingInProgress:t.status?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},v=function(e){return{type:l,userId:e}},g=function(e){return{type:d,userId:e}},x=function(e){return{type:f,users:e}},_=function(e){return{type:p,pageNumber:e}},w=function(e){return{type:j,usersAmount:e}},k=function(e){return{type:h,loading:e}},y=function(e,t){return{type:b,status:e,userId:t}},E=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(k(!0)),n.next=3,o.d.getUsers(e,t);case 3:a=n.sent,r(x(a.items)),r(w(a.totalCount=499)),r(k(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},I=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(e)),n.next=3,o.d.getUsers(e,t);case 3:a=n.sent,r(x(a.items));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(y(!0,r)),e.next=3,t(r);case 3:0===e.sent.resultCode&&(a(n(r)),a(y(!1,r)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),R=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(o.d.follow.bind(o.d),v,e,n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(o.d.unFollow.bind(o.d),g,e,n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},140:function(e,t,n){e.exports={notFound:"notFound_notFound__2csVV"}},25:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u}));var r=function(e){return e.authReducer.userId},c=function(e){return e.authReducer.email},a=function(e){return e.authReducer.login},i=function(e){return e.authReducer.isLoading},u=function(e){return e.authReducer.isAuth}},292:function(e,t,n){},293:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(68),i=n.n(a),u=n(56),o=n(57),s=n(67),l=n(66),d=n(1),f=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{children:"Settings"})})},p=n(14),j=n(35),h=n.n(j),b=function(){return Object(d.jsx)("aside",{className:h.a.sidebar,children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(p.b,{activeClassName:h.a.active,to:"/profile",children:"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})}),Object(d.jsx)("li",{children:Object(d.jsx)(p.b,{activeClassName:h.a.active,to:"/feed",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(d.jsx)("li",{children:Object(d.jsx)(p.b,{activeClassName:h.a.active,to:"/messages",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),Object(d.jsx)("li",{children:Object(d.jsx)(p.b,{activeClassName:h.a.active,to:"/users",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),Object(d.jsx)("li",{children:Object(d.jsx)(p.b,{activeClassName:h.a.active,to:"/settings",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})})},O=n(53),m=n.n(O),v=n(11),g=n(20),x=n(10),_=n(7),w=n.n(_),k=n(12),y=n(3),E=n(42),I=n(13),N="social-network/authReducer/AUTH-USER",R="social-network/authReducer/CAPTHCA",C={userId:null,email:null,login:null,isLoading:!1,isAuth:!1,captchaUrl:null},S=function(e,t,n,r){return{type:N,userId:e,email:t,login:n,isAuth:r}},P=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r,c,a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.getAuth();case 2:0===(n=e.sent).resultCode&&(r=n.data,c=r.id,a=r.email,i=r.login,t(S(c,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.logoutMe();case 2:0===e.sent.resultCode&&t(S(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.c.getCapchaUrl();case 2:n=e.sent,console.log(n),r=n.data.url,t({type:R,captcha:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M="social-network/headerReducer/GET_PROFILE_FOR_HEADER",D={profile:null},L=function(e){return{type:M,userId:e}},U=n(25),z=n(54),F=n.n(z),V=n(110),B=function(e){var t=e.s,n=e.login,r=e.logout,c=e.profile,a=Object(V.a)(!1),i=a.ref,u=a.isComponentVisible,o=a.setIsComponentVisible;return Object(d.jsxs)("div",{className:t.topProfileLink,ref:i,children:[Object(d.jsxs)("div",{className:u?t.headBlock__active:t.headBlock,onClick:function(){o(!0!==u)},children:[Object(d.jsx)("div",{className:t.headName,children:c?c.fullName:n}),Object(d.jsx)("div",{className:t.avatar,children:Object(d.jsx)("img",{src:c?c.photos.small:null,alt:"headAvatar"})}),Object(d.jsx)("div",{className:t.arrow})]}),u?Object(d.jsx)(H,{s:t,profile:c,login:n,logout:r}):""]})},H=function(e){var t=e.s,n=e.profile,r=e.login,c=e.logout;return Object(d.jsxs)("div",{className:t.modal,children:[Object(d.jsxs)(p.b,{className:t.modalHead,to:"/profile/",children:[Object(d.jsx)("div",{className:t.avatar,children:Object(d.jsx)("img",{src:n?n.photos.small:null,alt:"headAvatar"})}),Object(d.jsx)("div",{className:t.modalName,children:n?n.fullName:r})]}),Object(d.jsx)("div",{className:t.divider}),Object(d.jsx)("div",{className:t.item,onClick:c,children:"\u0412\u044b\u0439\u0442\u0438"})]})},W=function(e){var t=e.s,n=e.login,r=e.logout,c=e.profile,a=e.isAuth;return Object(d.jsx)(d.Fragment,{children:a?Object(d.jsx)(B,{s:t,login:n,logout:r,profile:c}):Object(d.jsx)(p.b,{className:t.login,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})})},G=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshProfileInfo",value:function(){var e=this.props,t=e.userId,n=e.setProfileForHeader;t&&n(t)}},{key:"componentDidMount",value:function(){this.refreshProfileInfo()}},{key:"componentDidUpdate",value:function(e){this.props.userId!==e.userId&&this.refreshProfileInfo()}},{key:"render",value:function(){var e=this.props,t=e.isAuth,n=e.login,r=e.logout,c=e.profile;return Object(d.jsx)("header",{className:F.a.header,children:Object(d.jsxs)("div",{className:F.a.wrapper,children:[Object(d.jsx)(p.b,{className:F.a.img,to:"/profile",children:Object(d.jsx)("img",{src:"data:image/svg+xml;charset=utf-8,%3Csvg%20fill%3D%22none%22%20height%3D%2224%22%20width%3D%22136%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0%2011.5c0-5.42%200-8.13%201.68-9.82C3.37%200%206.08%200%2011.5%200h1c5.42%200%208.13%200%209.82%201.68C24%203.37%2024%206.08%2024%2011.5v1c0%205.42%200%208.13-1.68%209.82C20.63%2024%2017.92%2024%2012.5%2024h-1c-5.42%200-8.13%200-9.82-1.68C0%2020.63%200%2017.92%200%2012.5z%22%20fill%3D%22%232787f5%22%2F%3E%3Cg%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M6.5%207.5H4.75c-.5%200-.6.24-.6.5%200%20.46.6%202.76%202.76%205.8%201.45%202.07%203.49%203.2%205.34%203.2%201.11%200%201.25-.25%201.25-.68v-1.57c0-.5.1-.6.46-.6.26%200%20.7.13%201.74%201.13%201.19%201.19%201.38%201.72%202.05%201.72h1.75c.5%200%20.75-.25.6-.74-.15-.5-.72-1.2-1.47-2.05-.4-.49-1.02-1-1.2-1.26-.26-.34-.2-.49%200-.78%200%200%202.13-3%202.35-4.03.11-.37%200-.64-.53-.64H17.5a.76.76%200%2000-.76.5s-.9%202.16-2.15%203.57c-.41.41-.6.54-.82.54-.1%200-.27-.13-.27-.5V8.14c0-.44-.13-.64-.5-.64h-2.75c-.28%200-.45.2-.45.4%200%20.42.64.52.7%201.7v2.58c0%20.57-.1.67-.32.67-.6%200-2.04-2.18-2.9-4.67-.16-.48-.33-.68-.78-.68z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M66.86%2012.5c0%203.24-2.43%205.5-5.78%205.5s-5.78-2.26-5.78-5.5S57.73%207%2061.08%207s5.78%202.26%205.78%205.5zm-8.97%200c0%201.97%201.3%203.3%203.19%203.3s3.19-1.33%203.19-3.3c0-1.98-1.3-3.25-3.19-3.25s-3.19%201.28-3.19%203.25zm-17.14-.21c.95-.44%201.56-1.18%201.56-2.33%200-1.73-1.58-2.96-3.87-2.96h-5.27v11h5.5c2.37%200%204.02-1.29%204.02-3.05%200-1.33-.87-2.32-1.94-2.66zM35.6%209.01h2.83c.85%200%201.44.5%201.44%201.2s-.6%201.2-1.44%201.2h-2.83zM38.67%2016h-3.06V13.3h3.06c.96%200%201.59.55%201.59%201.36s-.63%201.33-1.59%201.33zM51.84%2018h3.19l-5.06-5.71L54.61%207h-2.9l-3.68%204.27h-.6V7H45v11h2.44v-4.38h.59zM76.47%207v4.34h-4.93V7H69.1v11h2.43v-4.44h4.93V18h2.43V7zM86.9%2018h-2.44V9.22h-3.8V7H90.7v2.22h-3.8zm9.5-11c-2.11%200-3.91.89-4.52%202.8l2.24.37c.34-.67%201.05-1.2%202.15-1.2%201.33%200%202.06.84%202.17%202.28h-2.32c-3.23%200-4.79%201.42-4.79%203.45%200%202.05%201.59%203.3%203.78%203.3%201.8%200%203-.72%203.53-1.63l.5%201.63h1.76v-6.18c0-3.19-1.74-4.82-4.5-4.82zm-.72%209c-1.19%200-1.9-.5-1.9-1.4%200-.85.57-1.44%202.43-1.44h2.35c0%201.8-1.19%202.84-2.88%202.84zm17.99%202h-3.2l-3.8-4.38h-.6V18h-2.43V7h2.43v4.27h.6L110.34%207h2.9l-4.63%205.29zm3.88%200h2.43V9.22h3.8V7h-10.04v2.22h3.8zM130.1%207c3.34%200%205.56%202.4%205.56%205.37%200%20.3-.02.55-.04.79h-8.54c.23%201.69%201.36%202.69%203.17%202.69%201.29%200%202.15-.4%202.68-1.2l2.29.39c-.88%202.01-2.83%202.96-5.12%202.96a5.28%205.28%200%2001-5.51-5.5c0-3.12%202.17-5.5%205.51-5.5zm2.92%204.25c-.4-1.37-1.4-2.15-2.92-2.15-1.48%200-2.47.74-2.87%202.15z%22%20fill%3D%22%2319191a%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E",alt:"logo"})}),Object(d.jsx)(W,{s:F.a,login:n,logout:r,isAuth:t,profile:c})]})})}}]),n}(r.Component),X=Object(x.d)(Object(g.b)((function(e){return{userId:Object(U.e)(e),email:Object(U.a)(e),login:Object(U.d)(e),isLoading:Object(U.c)(e),isAuth:Object(U.b)(e),profile:e.headerReducer.profile}}),{authUser:S,logout:A,setProfileForHeader:function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.b.getMyProfile(e);case 2:r=t.sent,console.log(r),n(L(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),v.g)(G),q=n(134),Z=n(135),K=n(43),Q=function(e){var t=e.captcha;return Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:t,alt:"captcha"}),Object(d.jsx)(q.a,{component:K.a,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0441 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",name:"captcha",required:!0})]})},J=n(55),Y=n(31),$=n.n(Y),ee=Object(J.a)(20),te=function(e){var t=e.handleSubmit,n=e.error,r=e.captcha;return Object(d.jsxs)("form",{className:"form",onSubmit:t,children:[Object(d.jsx)("div",{children:Object(d.jsx)(q.a,{component:K.a,type:"email",validate:[J.b,ee],name:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430",className:$.a.regInput})}),Object(d.jsx)("div",{children:Object(d.jsx)(q.a,{component:K.a,validate:[J.b,ee],name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",className:$.a.regInput})}),Object(d.jsxs)("div",{className:$.a.rememerMeWrapp,children:[Object(d.jsxs)("label",{className:$.a.rememberMeBtn,children:[Object(d.jsx)(q.a,{component:"input",name:"rememberMe",type:"checkbox"}),Object(d.jsx)("span",{className:$.a.rememberMe,children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),Object(d.jsx)("button",{type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]}),r?Object(d.jsx)(Q,{captcha:r}):null,n?Object(d.jsx)("div",{className:$.a.formAccesError,children:n}):null]})};te=Object(Z.a)({form:"login"})(te);var ne=function(e){var t=e.login,n=e.isAuth,r=e.captchaUrl;e.registerMe;return n?Object(d.jsx)(v.a,{to:"/profile"}):Object(d.jsx)("div",{className:$.a.login,children:Object(d.jsx)(te,{onSubmit:function(e){var n=e.email,r=e.password,c=e.rememberMe,a=e.captcha;console.log(e),t(n,r,c,a)},captcha:r})})},re=Object(g.b)((function(e){return{isLoading:Object(U.c)(e),isAuth:Object(U.b)(e),captchaUrl:e.authReducer.captchaUrl}}),{login:function(e,t,n,r){return function(){var c=Object(k.a)(w.a.mark((function c(a){var i,u;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,I.a.loginMe(e,t,n,r);case 2:i=c.sent,console.log(i),0===i.resultCode?a(P()):(10===i.resultCode&&a(T()),u=i.messages.length>0?i.messages[0]:"Login Error, pls check ur data",a(Object(E.a)("login",{_error:u})));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},logout:A})(ne),ce="social-network/appReducer/INITIALIZED-SUCCES",ae={initialazed:!1},ie=n(70),ue=function(e){return e.appReducer.initialazed},oe=n(132),se=n(92),le="social-network/loginReducer/LOGIN-ME",de={email:"",password:"",rememberMe:!1,captcha:!1},fe=n(133),pe=n(139),je=n(136),he=Object(x.c)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var n=t.userId,r=t.email,c=t.login,a=t.isAuth;return Object(y.a)(Object(y.a)({},e),{},{userId:n,email:r,login:c,isAuth:a});case R:return Object(y.a)(Object(y.a)({},e),{},{captchaUrl:t.captcha});default:return e}},profileReducer:se.i,headerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(y.a)(Object(y.a)({},e),{},{profile:t.userId});default:return e}},dialogsReducer:oe.b,usersReducer:fe.k,loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(y.a)(Object(y.a)({},e),{},{email:t.email,password:t.password,rememberMe:t.rememberMe,captcha:t.captcha});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(y.a)(Object(y.a)({},e),{},{initialazed:!0});default:return e}},form:je.a.plugin({"post-form":function(e,t){switch(t.type){case se.a:return;default:return e}}})}),be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,Oe=Object(x.e)(he,be(Object(x.a)(pe.a))),me=function(e){return function(t){return Object(d.jsx)(r.Suspense,{fallback:Object(d.jsx)(ie.a,{}),children:Object(d.jsx)(e,Object(y.a)({},t))})}},ve=n(140),ge=n.n(ve),xe=function(){return Object(d.jsx)("div",{className:ge.a.notFound,children:Object(d.jsx)(p.b,{to:"/profile"})})},_e=c.a.lazy((function(){return n.e(5).then(n.bind(null,304))})),we=c.a.lazy((function(){return n.e(3).then(n.bind(null,303))})),ke=c.a.lazy((function(){return n.e(4).then(n.bind(null,305))})),ye=c.a.lazy((function(){return n.e(6).then(n.bind(null,306))})),Ee=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).catchAllUnhandleErrors=function(e){alert("Some error occured",e.reason.response),console.log(e.reason.response)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandleErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandleErrors)}},{key:"render",value:function(){return this.props.initialazed?this.props.isAuth?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:m.a.wrapper,children:[Object(d.jsx)(X,{}),Object(d.jsxs)("main",{children:[Object(d.jsx)(b,{className:m.a.wrapper__navbar}),Object(d.jsx)("div",{className:m.a.wrapper__content,children:Object(d.jsxs)(v.d,{children:[Object(d.jsx)(v.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)(v.a,{to:"profile"})}}),Object(d.jsx)(v.b,{path:"/login",render:function(){return Object(d.jsx)(re,{})}}),Object(d.jsx)(v.b,{path:"/profile/:userId?",render:me(we)}),Object(d.jsx)(v.b,{path:"/feed",render:me(ye)}),Object(d.jsx)(v.b,{path:"/messages",render:me(_e)}),Object(d.jsx)(v.b,{path:"/users",render:me(ke)}),Object(d.jsx)(v.b,{path:"/settings",render:function(){return Object(d.jsx)(f,{})}}),Object(d.jsx)(v.b,{path:"*",exact:!0,render:function(){return Object(d.jsx)(xe,{})}})]})})]})]})}):Object(d.jsxs)("div",{className:m.a.wrapper,children:[Object(d.jsx)(X,{}),Object(d.jsx)(v.b,{path:"/",render:function(){return Object(d.jsx)(v.a,{to:"login"})}}),Object(d.jsx)(v.b,{path:"/profile",render:function(){return Object(d.jsx)(v.a,{to:"login"})}}),Object(d.jsx)(v.b,{path:"/login",exact:!0,render:function(){return Object(d.jsx)(re,{})}})]}):Object(d.jsx)(ie.a,{})}}]),n}(r.Component),Ie=Object(x.d)(v.g,Object(g.b)((function(e){return{initialazed:ue(e),isAuth:e.authReducer.isAuth}}),{initializeApp:function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(P());case 2:n=e.sent,Promise.all([n]),t({type:ce});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Ee),Ne=function(){return Object(d.jsx)(p.a,{basename:"",children:Object(d.jsx)(g.a,{store:Oe,children:Object(d.jsx)(Ie,{})})})};i.a.render(Object(d.jsx)(Ne,{}),document.getElementById("root"))},31:function(e,t,n){e.exports={formAccesError:"formValidate_formAccesError__2H2ZP",login:"formValidate_login__3mUMl",regInput:"formValidate_regInput__3cpDg",rememberMe:"formValidate_rememberMe__13Q-Q",rememerMeWrapp:"formValidate_rememerMeWrapp__23PqN",rememberMeBtn:"formValidate_rememberMeBtn__2cK33"}},35:function(e,t,n){e.exports={sidebar:"navbar_sidebar__1OZrZ",active:"navbar_active__M_aUX"}},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n(3),c=function(e,t,n,c){return e.map((function(e){return e[c]===t?Object(r.a)(Object(r.a)({},e),n):e}))},a=function(e,t,n,c,a){return e.map((function(e){return e[a]===t?Object(r.a)(Object(r.a)(Object(r.a)({},e),n),c):e}))}},43:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(3),c=n(99),a=(n(0),n(73)),i=n.n(a),u=n(1),o=function(e,t){var n=e.meta,r=e.children,c=n.error,a=n.touched;return Object(u.jsxs)("div",{className:a&&c?i.a.formControl_error:i.a.formControl,children:[r,Object(u.jsx)("div",{className:i.a.errorBlock,children:c})]})},s=function(e){var t=e.input,n=(e.meta,e.children,Object(c.a)(e,["input","meta","children"]));return Object(u.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("textarea",Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{placeholder:e.placeholder}))}))},l=function(e){var t=e.input,n=(e.meta,e.children,Object(c.a)(e,["input","meta","children"]));return Object(u.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("input",Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{placeholder:e.placeholder}))}))}},53:function(e,t,n){e.exports={wrapper:"src_wrapper__1BTyp",wrapper__content:"src_wrapper__content__8q9T-",wrapper__navbar:"src_wrapper__navbar__144q-"}},54:function(e,t,n){e.exports={header:"header_header__1STTg",wrapper:"header_wrapper__1m_p6",img:"header_img__1l1r8",topProfileLink:"header_topProfileLink__2nbTn",headBlock:"header_headBlock__dNtaB",modal:"header_modal__2WgBR",headBlock__active:"header_headBlock__active__mqz47",headName:"header_headName__u7oGQ",arrow:"header_arrow__1Sp7t",avatar:"header_avatar__1aIP4",modalHead:"header_modalHead__FDc0f",modalName:"header_modalName__g3PmC",item:"header_item__mgiAX",divider:"header_divider__kOy_b",login:"header_login__2_IJQ"}},55:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){if(!e)return""},c=function(e){return function(t){if(t&&t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!")}}},70:function(e,t,n){"use strict";var r=n(131);t.a=r.a},73:function(e,t,n){e.exports={errorBlock:"formChilds_errorBlock__2NREu",formControl_error:"formChilds_formControl_error__3WcPD"}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return x})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"h",(function(){return N})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return S})),n.d(t,"p",(function(){return P})),n.d(t,"j",(function(){return A})),n.d(t,"o",(function(){return T}));var r=n(7),c=n.n(r),a=n(12),i=n(26),u=n(3),o=n(13),s=n(41),l="social-network/profileReducer/ADD-POST",d="social-network/profileReducer/DELETE-POST",f="social-network/profileReducer/GET-PROFILE",p="social-network/profileReducer/NEW-STATUS-TEXT",j="social-network/profileReducer/SET_PHOTO",h="social-network/profileReducer/SET_LIKE_POST",b="social-network/profileReducer/UNSET_LIKE_POST",O="social-network/profileReducer/PICTURE_PREVIEW",m={posts:[{id:4,message:"new post",likes:13,liked:!1,picture:null},{id:3,message:"TEST POSTS",likes:12,liked:!0,picture:null},{id:2,message:"TEST POSTS",likes:15,liked:!1,picture:null},{id:1,message:"TEST POSTS",likes:16,liked:!0,picture:null}],profile:null,status:null,picturePreview:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n=e.posts.unshift()+1,r={id:n,message:t.text,likes:0,picture:e.picturePreview};return Object(u.a)(Object(u.a)({},e),{},{posts:[r].concat(Object(i.a)(e.posts)),picturePreview:null});case d:var c=e.posts.findIndex((function(e){return e.id===t.postId})),a=[].concat(Object(i.a)(e.posts.slice(0,c)),Object(i.a)(e.posts.slice(c+1)));return Object(u.a)(Object(u.a)({},e),{},{posts:a});case h:return Object(u.a)(Object(u.a)({},e),{},{posts:Object(s.a)(e.posts,t.postId,{liked:!0},{likes:t.count+1},"id")});case b:return Object(u.a)(Object(u.a)({},e),{},{posts:Object(s.a)(e.posts,t.postId,{liked:!1},{likes:t.count-1},"id")});case O:return Object(u.a)(Object(u.a)({},e),{},{picturePreview:t.file});case f:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profileId});case p:return Object(u.a)(Object(u.a)({},e),{},{status:t.text});case j:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.file})});default:return e}},g=function(e,t){return{type:l,text:e,picture:t}},x=function(e){return{type:d,postId:e}},_=function(e,t){return{type:h,postId:e,count:t}},w=function(e,t){return{type:b,postId:e,count:t}},k=function(e){return{type:O,file:e}},y=function(e){return{type:"social-network/profileReducer/CHANGE-POST-TEXT",newText:e}},E=function(e){return{type:f,profileId:e}},I=function(e){return{type:"social-network/profileReducer/TOGGLE-EDIT-MODE",editMode:e}},N=function(e){return{type:p,text:e}},R=function(e){return{type:j,file:e}},C=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getMyProfile(e);case 2:r=t.sent,n(E(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:r=t.sent,n(N(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateStatus(e);case 2:0===(r=t.sent).data.resultCode&&n(N(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.takePhoto(e);case 2:0===(r=t.sent).resultCode&&n(R(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().authReducer.userId,t.next=3,o.b.sendProfileData(e);case 3:0===t.sent.resultCode&&n(C(a));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}},[[293,1,2]]]);
//# sourceMappingURL=main.dce03849.chunk.js.map